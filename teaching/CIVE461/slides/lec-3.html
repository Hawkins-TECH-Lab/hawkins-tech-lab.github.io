<!DOCTYPE html>
<html lang="en"><head>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.39">

  <title>Hawkinslab ‚Äì Lecture 3 - Trip Generation</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/theme/quarto-423d414d36ce366a9d05f36d06304417.css">
  <link href="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Lecture 3 - Trip Generation</h1>
  <p class="subtitle">CIVE 461/861: Urban Transportation Planning</p>

<div class="quarto-title-authors">
</div>

</section>
<section id="we-can-examine-trip-generation-in-several-ways" class="slide level2 smaller">
<h2>We can examine trip generation in several ways‚Ä¶</h2>
<div>
<ol type="1">
<li class="fragment"><p>Total number of trips generated in a TAZ based on zone properties: population, employment, number of cars, etc. (method: <strong>regression</strong>) <img data-src="../images/lecture3/omaha_taz.png" class="absolute" style="top: 225px; right: 0px; width: 25%; "> <br><br><br><br></p></li>
<li class="fragment"><p>Trip frequency choice by households (method: <strong>discrete choice</strong>) <img data-src="../images/lecture3/van.png" class="absolute" style="left: 500px; bottom: 0px; width: 25%; "></p></li>
</ol>
</div>
</section>
<section id="academic-vs.-practitioner-considerations" class="slide level2">
<h2>Academic Vs. Practitioner Considerations</h2>
<div>
<ul>
<li class="fragment">Practitioner struggle deciding between a <strong>theoretically sound</strong> but <strong>difficult to implement</strong> set of models &amp; a more pragmatic modelling approach reflecting the <strong>limitations of the data, time, &amp; resources</strong> available for a study</li>
<li class="fragment">Models are too complex</li>
<li class="fragment">Implies that <strong>heuristic approaches</strong>, rules of thumb, &amp; ad hoc procedures are easier to understand &amp; therefore <strong>preferable</strong></li>
</ul>
</div>
</section>
<section id="planning-monitoring-with-the-help-of-models" class="slide level2">
<h2>Planning &amp; Monitoring with the Help of Models</h2>

<img data-src="../images/lecture3/model_process.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="classic-4-step-travel-model" class="slide level2">
<h2>Classic 4-Step Travel Model</h2>

<img data-src="../images/lecture3/4_step_model.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="classic-4-step-travel-model-1" class="slide level2 smaller">
<h2>Classic 4-Step Travel Model</h2>
<ul>
<li><ol type="1">
<li>Trip generation, 2) Trip distribution, 3) Modal split, &amp; 4) Traffic assignment</li>
</ol></li>
<li><p>Generally recognized that travel decisions are <strong>not actually taken</strong> in this type of sequence</p></li>
<li><p>Model sequencing depends on the <strong>form of the utility function</strong> assumed to govern all these travel choices</p></li>
<li><p>Four-stage model is seen as concentrating attention on only a limited range of travellers‚Äô responses</p></li>
</ul>
</section>
<section id="classic-4-step-travel-model-2" class="slide level2 smaller">
<h2>Classic 4-Step Travel Model</h2>
<ul>
<li>Current thinking requires analysis of a wider range of responses to transport problems &amp; schemes</li>
<li>For example, when faced with increased congestion a trip maker can respond with a range of simple changes to:
<ul>
<li><strong>Route</strong> followed to avoid congestion or take advantage of new links - choice of parking place or combination of services in the case of public transport</li>
<li><strong>Mode</strong> used to get to the destination</li>
<li><strong>Departure time</strong> to avoid the most congested part of the peak</li>
<li><strong>Trip destination</strong> to a less congested area</li>
<li><strong>Trip frequency</strong> by undertaking the trip on another day, perhaps combining it with other activities</li>
</ul></li>
</ul>
</section>
<section id="trip-definitions" class="slide level2 smaller">
<h2>Trip Definitions</h2>
<div>
<ul>
<li class="fragment"><strong>Home-Based (HB) Trip</strong>: A trip which either starts or ends at the home
<ul>
<li class="fragment">Home-based work</li>
<li class="fragment">Home-based grade school</li>
<li class="fragment">Home-based university</li>
<li class="fragment">Home-based shopping</li>
<li class="fragment">Home-based other</li>
</ul></li>
<li class="fragment"><strong>Non-Home-Based (NHB) Trip</strong>: A trip which neither starts nor ends at the home</li>
<li class="fragment"><strong>Trip production</strong>: The home end of a HB trip or origin of a NHB trip</li>
<li class="fragment"><strong>Trip attraction</strong>: The non-home end of a HB trip or the destination of a NHB trip</li>
</ul>
</div>
</section>
<section id="trip-production-attraction" class="slide level2">
<h2>Trip Production &amp; Attraction</h2>

<img data-src="../images/lecture3/trip_production_attraction.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="trip-production-attraction-1" class="slide level2">
<h2>Trip Production &amp; Attraction</h2>
<p><img data-src="../images/lecture3/trip_production_1.png" class="quarto-figure quarto-figure-left" style="width:45.0%"> <img data-src="../images/lecture3/trip_production_2.png" class="quarto-figure quarto-figure-right" style="width:45.0%"></p>
</section>
<section id="origindestination-vs.-productionattraction" class="slide level2">
<h2>Origin/Destination Vs. Production/Attraction</h2>
<ul>
<li><strong>Production</strong> &amp; <strong>attraction</strong> approach works fine when dealing with 24-hour work trips</li>
<li>Lose <strong>directionality</strong> when dealing with peak-period flows</li>
<li>Typically use <strong>origin/destination</strong> approach</li>
</ul>
<!---
If we remove a trip, Zone 1 produces a trip to zone 2 but in what direction?
-->
<p><img data-src="../images/lecture3/trip_production_3.png" class="absolute" style="left: 300px; bottom: 0px; width: 30%; "></p>
</section>
<section id="trip-purpose" class="slide level2 smaller">
<h2>Trip Purpose</h2>
<div>
<ul>
<li class="fragment">For HB trips:
<ul>
<li class="fragment">Travel to work</li>
<li class="fragment">Travel to school or college (education trips)</li>
<li class="fragment">Shopping trips</li>
<li class="fragment">Social &amp; recreational trips</li>
<li class="fragment">Escort trips (to accompany or collect someone else)</li>
<li class="fragment">Other trips (healthcare &amp; personal business)</li>
</ul></li>
<li class="fragment">First two are usually considered <strong>compulsory (mandatory)</strong> trips &amp; we build skeleton schedules around them</li>
<li class="fragment">Other usually considered <strong>discretionary (optional) trips</strong></li>
</ul>
</div>
</section>
<section id="factors-affecting-trip-generation" class="slide level2 smaller">
<h2>Factors Affecting Trip Generation</h2>
<ul>
<li>Since trip generation performed before distribution &amp; mode split, usually <strong>do not</strong> use travel times, costs, etc.</li>
</ul>
<h4 id="personal-trip-productions">Personal trip productions</h4>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Income</li>
<li>Car ownership</li>
<li>Family size</li>
<li>Household structure</li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li>Value of land</li>
<li>Residential density</li>
<li>Accessibility</li>
</ul>
</div></div>
<ul>
<li>First 4 considered in most <strong>household trip generation models</strong></li>
<li>Value of land &amp; residential density often considered in <strong>zonal studies</strong></li>
<li>Accessibility rarely included in models but makes trip generation <strong>elastic</strong> (responsive) to changes in transport system</li>
</ul>
</section>
<section id="factors-affecting-trip-generation-1" class="slide level2 smaller">
<h2>Factors Affecting Trip Generation</h2>
<h4 id="personal-trip-attractions">Personal trip attractions</h4>
<ul>
<li>Floorspace available for industrial, commercial, &amp; other services</li>
<li>Zonal employment</li>
</ul>
<h4 id="freight-trip-production-attraction">Freight trip production &amp; attraction</h4>
<ul>
<li><p>Number of employees</p></li>
<li><p>Number of sales</p></li>
<li><p>Roofed area of firm</p></li>
<li><p>Total area of firm</p></li>
<li><p>What about type of firm? Accessibility? Curiously, few applications in freight models despite it seeming logical that different products have different transport requirements</p></li>
</ul>
</section>
<section id="trip-generation-aggregation" class="slide level2 smaller">
<h2>Trip Generation Aggregation</h2>
<ul>
<li><strong>Temporal aggregation</strong>: hourly, peak/off-peak, daily, weekly</li>
<li><strong>Spatial aggregation</strong>:
<ul>
<li>Persons: by income, driver‚Äôs license, vehicle ownership, occupation type, household size, etc.</li>
<li>Households: by income, vehicle ownership, household size, number of workers, with/without children</li>
<li><strong>Zones</strong>: by location (e.g., downtown, suburb), major trip generator (e.g., hospital, stadium)</li>
</ul></li>
<li>Most operational models use either zones or households. <strong>Why?</strong></li>
</ul>
</section>
<section id="trip-generation-approaches" class="slide level2">
<h2>Trip Generation Approaches</h2>
<h3 id="three-major-operational-approaches">Three major operational approaches</h3>
<ul>
<li>Trip rate models</li>
<li>Cross-classification models</li>
<li>Regression models</li>
</ul>
</section>
<section id="trip-rate-models" class="slide level2 smaller">
<h2>Trip Rate Models</h2>
<ul>
<li>Computed from observed data by simply dividing number of trips by selected explanatory variable or population
<ul>
<li>Home-to-work trips for retail employees = Total observed trips by retail employees / Total retail employment</li>
<li>Trip rates can be geographically stratified (i.e., different rates used for different areas of the city) &amp; may combine multiple factors</li>
</ul></li>
<li>Total shopping trips=</li>
</ul>
<p style="text-align: center;">
</p><p>A1 √óPopulation in Downtown Area <br> + A2√óPopulation in Inner Suburbs <br> + A3√óPopulation in Outer Suburbs</p>
<p></p>
<p><img data-src="../images/lecture3/ite_trip_generation.png" class="absolute" style="bottom: 0px; right: 0px; width: 25%; "></p>
</section>
<section id="trip-rate-models-1" class="slide level2 smaller">
<h2>Trip Rate Models</h2>
<ul>
<li><strong>Constant trip generation rate</strong> is estimated from observed data</li>
<li>Forecasts can be done
<ul>
<li>Assuming <strong>trip generation rate by category is fixed</strong>
<ul>
<li>Trips attracted to a shopping mall = <span class="math inline">\(A_s \times {MallFloorArea}\)</span></li>
<li>Trips generated by a zone = <span class="math inline">\(\sum_k A_k \times HH With Cars \text{ where k} = 0, 1, 2, 3, etc.\)</span></li>
</ul></li>
<li>Assuming <strong>overall trip generation rate is fixed</strong>
<ul>
<li>Trips generated in a zone = <span class="math inline">\(t_i\)</span></li>
<li>Trips generated in the future <span class="math inline">\(T_i = t_i \times PopulationGrowthRate\)</span></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="cross-classification-models" class="slide level2 smaller">
<h2>Cross-Classification Models</h2>
<ul>
<li>Classify households (or persons) by one or more variables - often <strong>household size</strong> &amp; <strong>number of vehicles</strong></li>
<li>Assume trip rates are <strong>relatively constant</strong> within each group</li>
<li>Compute <strong>average trip rate</strong> for each group</li>
<li>Zonal trips = sum of trips generated by all groups found in the zone</li>
<li><strong>Note:</strong> trip rate model is a cross-classification model by <strong>trip type</strong> not <strong>trip maker</strong></li>
</ul>
</section>
<section id="cross-classification-models-1" class="slide level2">
<h2>Cross-Classification Models</h2>

<img data-src="../images/lecture3/cross_classification.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="linear-regression-models" class="slide level2">
<h2>Linear Regression Models</h2>
<ul>
<li>Use regression to estimate ‚Äúbest fit‚Äù linear regression between <strong># of trips</strong> &amp; one or more <strong>explanatory variables</strong> <span class="math display">\[T=1.229+1.379V\]</span></li>
<li>Where <span class="math inline">\(T\)</span> is daily trip productions per household for all purposes &amp; <span class="math inline">\(V\)</span> is the # of vehicles per household <span class="math display">\[A=61.4+0.93E\]</span></li>
<li>Where <span class="math inline">\(A\)</span> is <strong>daily work trip attractions</strong> for a given zone &amp; <span class="math inline">\(E\)</span> is <strong>total zonal employment</strong></li>
</ul>
</section>
<section id="parameter-signs-theoretical-expectations" class="slide level2">
<h2>Parameter Signs &amp; Theoretical Expectations</h2>
<ul>
<li>Model specification should ‚Äúmake sense‚Äù from behavioral &amp; theoretical perspectives</li>
<li>Variables included should have a causal influence on the dependent variable</li>
<li>Parameters should have expected signs (+ or -)</li>
<li>Parameters should have reasonable magnitudes</li>
</ul>
</section>
<section id="parameter-signs-theoretical-expecations" class="slide level2 smaller">
<h2>Parameter Signs &amp; Theoretical Expecations</h2>
<div>
<ul>
<li class="fragment">Do these parameter signs make sense? <span class="math display">\[Daily HH Trips= 3 Persons In HH ‚àí 0.5 HH Vehicles\]</span></li>
<li class="fragment"><strong>No</strong>: We expect trip making to increase with # of vehicles</li>
<li class="fragment">Does this parameter magnitude make sense? <span class="math display">\[Daily HH Work Trips=0.2 HH Workers\]</span></li>
<li class="fragment"><strong>No</strong>: We expect each worker to make approx. 2 trips per day</li>
<li class="fragment">Does it make sense to include No.&nbsp;of HH workers in the model? <span class="math display">\[Daily HH School Trips=1+0.2 HH Workers\]</span></li>
<li class="fragment"><strong>No</strong>: There‚Äôs no logical/causal relationship between no. of workers &amp; school trips</li>
</ul>
</div>
</section>
<section id="or-could-the-school-model-make-sense" class="slide level2 smaller">
<h2>Or Could The School Model Make Sense?‚Ä¶</h2>
<h4 id="international-institute-for-applied-systems-analysis-in-austria">International Institute for Applied Systems Analysis in Austria:</h4>
<ul>
<li>Women with no schooling - <strong>4.5 children</strong></li>
<li>Women with 2-3 years of primary school ‚Äì <strong>3 children</strong></li>
<li>Women who complete one or two years of secondary school - <strong>1.9 children</strong> (replacement rate is 2.1 children)</li>
<li>With one or two years of college, the average childbearing rate falls even further, to <strong>1.7</strong></li>
<li>When women enter the workforce, start businesses, inherit assets, &amp; otherwise interact with men on an equal footing, children per household fades even more dramatically</li>
</ul>
</section>
<section id="zonal-based-multiple-regression" class="slide level2 smaller">
<h2>Zonal-Based Multiple Regression</h2>
<h4 id="some-important-considerations">Some important considerations</h4>
<ul>
<li>Zonal models can explain <strong>variation between zones</strong>
<ul>
<li>For this reason, only successful if inter-zonal variations reflect real reasons for trip variation</li>
<li>Necessary that zones are homogeneous in socioeconomic composition &amp; represent a wide range of conditions</li>
<li><strong>Major problem</strong> is that main variation in person trips is intra-zonal</li>
</ul></li>
<li><strong>Role of intercept</strong>: One would expect estimated regression line to pass through zero but large intercepts are common. <strong>Why?</strong></li>
<li><strong>Null zones</strong>: No information about certain dependent variables (e.g., no. HB trips in a non-residential zone). These zones must be excluded from analysis</li>
</ul>
</section>
<section id="zonal-based-multiple-regression-1" class="slide level2 smaller">
<h2>Zonal-Based Multiple Regression</h2>
<h4 id="some-important-considerations-cont">Some important considerations cont‚Ä¶</h4>
<ul>
<li><strong>Zonal totals vs.&nbsp;zonal means</strong>: when formulating model, analyst has choice between <strong>aggregate</strong> or <strong>total variables</strong>, such as trips per zone or cars per zone vs.&nbsp;rates, such as trips per household or cars per household in the zone</li>
<li>Important difference: <span class="math display">\[Y_i=\beta_0+\beta_1 X_{1i}+\beta_2 X_{2i}+‚Ä¶+\beta_k X_{ùëòùëñ}+E_ùëñ \text{ (total trip model)}\]</span> <span class="math display">\[ùë¶_i=\beta_0+\beta_1 x_1i+\beta_2 x_2i+‚Ä¶+\beta_k x_{ùëòùëñ}+e_i \text{ (trip rate model)}\]</span></li>
<li>Where <span class="math inline">\(y_i=Y_i/H_i\)</span>, <span class="math inline">\(x_i=X_i/H_i\)</span>, &amp; <span class="math inline">\(e_ùëñ=E_i/H_i\)</span></li>
</ul>
</section>
<section id="zonal-based-multiple-regression-2" class="slide level2 smaller">
<h2>Zonal-Based Multiple Regression</h2>
<h4 id="even-more-important-considerations">Even more important considerations‚Ä¶</h4>
<ul>
<li>Similar equations &amp; parameters have a similar interpretation</li>
<li><strong>However</strong>, unless <span class="math inline">\(H_i\)</span> is constant across zones, constant variance condition cannot hold for error terms in total trips model</li>
<li>Aggregate variables reflect size of zone, thus magnitude of error depends on size of zone - heteroskedasticity (variability in variance)</li>
<li>Using a <span class="math inline">\(1/H_i\)</span> multiplier normalizes the model &amp; reduces heteroskedasticity because model becomes independent of zone size</li>
<li>Aggregate variable models often yield higher <span class="math inline">\(R^2\)</span> but spurious effect from zone size helping to explain total trips</li>
<li><strong>DO NOT</strong> mix rate &amp; aggregate variables in same model</li>
</ul>
</section>
<section id="zonal-based-multiple-regression-3" class="slide level2 smaller">
<h2>Zonal-Based Multiple Regression</h2>
<ul>
<li>Even when rates used, zonal regression is conditioned by nature &amp; size of zones (<strong>spatial aggregation problem</strong>)</li>
<li>Interzonal variance diminishes with larger zone size</li>
</ul>

<img data-src="../images/lecture3/zone_regression_table.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="household-based-regression" class="slide level2 smaller">
<h2>Household-Based Regression</h2>
<ul>
<li>Intra-zonal variation may be reduced by decreasing zone size but there are <strong>two problems</strong>
<ul>
<li><strong>More expensive models</strong> in terms of data collection, calibration, &amp; operation</li>
<li><strong>Larger sampling errors</strong> (regression to mean with larger samples, so small zone means not capturing average person), which is assumed non-existent by multiple linear regression model</li>
</ul></li>
<li><strong>Household</strong> used rather than <strong>person</strong> because we have a hard time incorporating <strong>intra-household dynamics</strong> (e.g., vehicle availability) - Some advances but still not great</li>
<li>Can decide on variables in <strong>step-wise process</strong> but must be careful - May exclude a variable with slightly lower prediction that is easier to forecast</li>
<li>Opposite approach of including all variables &amp; removing variables can be a better approach</li>
</ul>
</section>
<section id="validity-of-linear-regression-assumption" class="slide level2 smaller">
<h2>Validity of Linear Regression Assumption</h2>
<ul>
<li>Regression models are easy to construct &amp; use</li>
<li><strong>However</strong>, underlying assumptions may be wrong
<ul>
<li>Linearity</li>
<li>No correlations between explanatory variables</li>
</ul></li>
<li>Residuals are estimates of error in model obtained from subtracting predicted from observed dependent variable values
<ul>
<li>Residual <span class="math inline">\(e_i = y_{i,observed} ‚Äì y_{i,predicted}\)</span></li>
<li>Residuals should be normally distributed with constant variance ‚Äì can plot a histogram to check</li>
<li>Residuals should be uncorrelated with any explanatory variable ‚Äì can plot residuals vs.&nbsp;explanatory variables</li>
</ul></li>
</ul>
</section>
<section id="histogram-of-residuals" class="slide level2">
<h2>Histogram of Residuals</h2>

<img data-src="../images/lecture3/histogram_residuals.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="residuals-vs.-explanatory-variables" class="slide level2">
<h2>Residuals Vs. Explanatory Variables</h2>

<img data-src="../images/lecture3/residuals_variance.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="example" class="slide level2 smaller">
<h2>Example</h2>
<div class="columns">
<div class="column" style="width:25%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../images/lecture3/residuals_example.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div><div class="column">
<ul>
<li>Three variables are defined <span class="math inline">\(X\)</span>, <span class="math inline">\(Y\)</span>, &amp; <span class="math inline">\(Z\)</span> where <span class="math inline">\(X\)</span> &amp; <span class="math inline">\(Z\)</span> are <strong>explanatory variables</strong> &amp; <span class="math inline">\(Y\)</span> is the <strong>dependent variable</strong></li>
</ul>
</div></div>
</section>
<section id="first-model-y-ax-b" class="slide level2 smaller">
<h2>First Model <span class="math inline">\(y = aX + b\)</span></h2>
<ul>
<li><span class="math inline">\(R^2 = 0.506\)</span> means that we are explaining <strong>50.6%</strong> of the variance in y with the explanatory variables in the model <img data-src="../images/lecture3/residuals_results_1.png" class="absolute" style="left: 0px; bottom: 0px; "> <img data-src="../images/lecture3/residuals_plot.png" class="absolute" style="top: 200px; right: 0px; width: 45%; "></li>
</ul>
</section>
<section id="analysis-of-residuals-vs.-x" class="slide level2 smaller">
<h2>Analysis of Residuals Vs. X</h2>
<ul>
<li>Looks like a constant variance across values of <span class="math inline">\(X\)</span>‚Ä¶ <img data-src="../images/lecture3/residuals_x_plot.png" class="quarto-figure quarto-figure-center"></li>
</ul>
</section>
<section id="analysis-of-residuals-vs.-z" class="slide level2 smaller">
<h2>Analysis of Residuals Vs. Z</h2>
<ul>
<li>Residuals <strong>not constant</strong> over different values of <span class="math inline">\(Z\)</span> (so we should try to include <span class="math inline">\(Z\)</span> as another explanatory variable) <img data-src="../images/lecture3/residuals_z_plot.png" class="quarto-figure quarto-figure-center"></li>
</ul>
</section>
<section id="second-model-y-ax-bz-c" class="slide level2 smaller">
<h2>Second Model <span class="math inline">\(y = aX bZ + c\)</span></h2>
<ul>
<li><span class="math inline">\(R^2 = 0.761\)</span> means that we are explaining <strong>76.1%</strong> of the variance in <span class="math inline">\(y\)</span> with the explanatory variables in the model <img data-src="../images/lecture3/residuals_results_2.png" class="absolute" style="left: 0px; bottom: 0px; "></li>
</ul>
</section>
<section id="analysis-of-residuals-vs.-x-z" class="slide level2 smaller">
<h2>Analysis of Residuals Vs. X &amp; Z$</h2>
<ul>
<li>Now residuals don‚Äôt change over different values of X or Z! <img data-src="../images/lecture3/residuals_x_z_1.png" class="quarto-figure quarto-figure-center" style="width:50.0%"> <img data-src="../images/lecture3/residuals_x_z_2.png" class="quarto-figure quarto-figure-center" style="width:40.0%"></li>
</ul>
</section>
<section id="dealing-with-non-linear-relationships" class="slide level2">
<h2>Dealing With Non-Linear Relationships</h2>
<p><img data-src="../images/lecture3/non_linear_plot_1.png" class="absolute" style="left: 0px; bottom: 150px; width: 60%; "> <img data-src="../images/lecture3/non_linear_table_1.png" class="absolute" style="bottom: 0px; right: 0px; width: 25%; "></p>
</section>
<section id="transform-the-explanatory-variable-add-x2-term" class="slide level2">
<h2>Transform the Explanatory Variable (add <span class="math inline">\(x^2\)</span> term)</h2>
<p><img data-src="../images/lecture3/non_linear_plot_2.png" class="absolute" style="left: 0px; bottom: 100px; width: 60%; "> <img data-src="../images/lecture3/non_linear_table_2.png" class="absolute" style="bottom: 50px; right: 0px; width: 25%; "></p>
</section>
<section id="other-transformations" class="slide level2 smaller">
<h2>Other Transformations</h2>
<ul>
<li>Log transformation, <span class="math inline">\(x‚Äô = ln(x)\)</span> if effects starts strong at low x but reaches limiting return with further increases in <span class="math inline">\(x\)</span> (often used for income variables)</li>
<li>Dummy variables:
<ul>
<li><span class="math inline">\(X_1\)</span> = 0 if vehicle ownership = 0 &amp; 1 if vehicle ownership &gt; 0</li>
<li><span class="math inline">\(X_2\)</span> = 1 if married &amp; 0 otherwise</li>
</ul></li>
<li>Variable interactions
<ul>
<li><span class="math inline">\(X_1\)</span> = age in years <span class="math inline">\(\times\)</span> income less than $30k</li>
<li><span class="math inline">\(X_2\)</span> = age in years <span class="math inline">\(\times\)</span> income $30k-$60k</li>
<li><span class="math inline">\(X_3\)</span> = age in years <span class="math inline">\(\times\)</span> income over $60k</li>
<li><span class="math inline">\(X_4\)</span> = gender (male) <span class="math inline">\(\times\)</span> have fulltime job</li>
<li><span class="math inline">\(X_5\)</span> = gender (male) <span class="math inline">\(\times\)</span> have parttime job</li>
</ul></li>
</ul>
</section>
<section id="non-linearity-in-trip-generation-variables" class="slide level2">
<h2>Non-Linearity in Trip Generation Variables</h2>
<ul>
<li>Linear regression assumes each independent variable exerts a <strong>linear influence</strong> on the dependent variable</li>
<li>Not easy to detect non-linearity because relationship can appear linear until other variables enter into the model (i.e., it is representing the <strong>effect of multiple variables</strong> with a linear overall effect)</li>
<li><strong>Multivariate graphs</strong> can be helpful to identify non-linearity</li>
</ul>
</section>
<section id="example-1" class="slide level2">
<h2>Example</h2>
<div style="font-size: 0.5em;">
<p>Consider the variables <strong>trips per household</strong> (<span class="math inline">\(Y\)</span>), <strong>number of workers</strong> (<span class="math inline">\(ùëã_1\)</span>), and <strong>number of vehicles</strong> (<span class="math inline">\(ùëã_2\)</span>). Successive steps were performed of a stepwise model estimation. Values (in parenthesis) are t-ratios. In the step 4 model, <span class="math inline">\(Z_1\)</span> takes the value 1 for households with one car and 0 otherwise and <span class="math inline">\(Z_2\)</span> takes the value 1 for households with two or more cars and 0 otherwise. We can see that zero car households will have the value 0 for both <span class="math inline">\(Z_1\)</span> and <span class="math inline">\(Z_2\)</span>. Even without the higher <span class="math inline">\(R^2\)</span>, the step 4 model would be preferred because it clearly demonstrates there is a <strong>non-linear effect</strong> that‚Äôs ignored by <span class="math inline">\(ùëã_2\)</span>.</p>
</div>

<img data-src="../images/lecture3/non_linear_table_3.png" class="quarto-figure quarto-figure-right r-stretch"></section>
<section id="variable-selection-model-building" class="slide level2 smaller">
<h2>Variable Selection &amp; Model Building</h2>
<ul>
<li><strong>Problem</strong>: Choose the set of appropriate explanatory variables from a set of candidate variables - <strong>variable selection</strong></li>
<li>Possible approaches
<ul>
<li>Exploring all possible variables - many combinations</li>
<li>Stepwise regression -&gt; construct a sequence of regression models by adding or removing variables at each step
<ul>
<li><strong>Forward selection</strong>: add variables to the model one at a time until there are no remaining candidate variables that improve fit</li>
<li><strong>Backward elimination</strong>: begin with all possible variables &amp; remove the least significant variables</li>
</ul></li>
</ul></li>
<li><strong>Are there problems with these approaches?</strong></li>
</ul>
</section>
<section id="variable-specification-forecasting" class="slide level2 smaller">
<h2>Variable Specification &amp; Forecasting</h2>
<ul>
<li>Consider variables <strong>important for explaining differences</strong> in trip-making decisions</li>
<li><strong>Frequency</strong> &amp; <strong>data plotting</strong> gives idea of variability with respect to different variables</li>
<li>Specify variables as per relationship
<ul>
<li>Continuous</li>
<li>Ordered</li>
<li>Discrete</li>
</ul></li>
<li>Variable choice depends on availability of observed information &amp; capacity to forecast</li>
<li>Statistical significance tests</li>
<li>Model goodness of fit can be used to identify impact of specific variables</li>
</ul>
</section>
<section id="model-validation" class="slide level2 smaller">
<h2>Model Validation</h2>
<ul>
<li>A good way to validate a model is to compare <strong>observed vs.&nbsp;modeled values</strong> for some groupings of the data</li>
<li>Better than comparing totals because <strong>biases may cancel</strong> in that case (high prediction cancels with low prediction)</li>
<li>Errors are reasonably low (i.e., less than 30%)</li>
<li>Large bias could be addressed by adjusting model parameters, but it‚Äôs not easy because there are no clear rules</li>
</ul>

<img data-src="../images/lecture3/validation_table.png" class="quarto-figure quarto-figure-center r-stretch" style="width:40.0%"></section>
<section id="model-validation---learning-from-machine-learning" class="slide level2">
<h2>Model Validation - Learning From Machine Learning</h2>
<ul>
<li>Transportation planning field starting to adopt methods from <strong>machine learning</strong> field, including for validation
<ul>
<li><strong>Leave-one-out</strong> (LOO) &amp; <strong>k-folds cross-validation</strong> to get mean &amp; std. dev.</li>
<li><strong>Score</strong> (R2 for linear regression)</li>
<li><strong>Mean absolute error</strong> (MAE)</li>
</ul></li>
</ul>
</section>
<section id="obtaining-zonal-totals" class="slide level2 smaller">
<h2>Obtaining Zonal Totals</h2>
<ul>
<li>Simple process for zone-based models because already modeling total trips</li>
<li>Requires extra step for household-based models ‚Äì multiplying by number of households
<ul>
<li><span class="math inline">\(T_i=H_i(0.91+1.44\bar{X}_{1i}+1.07\bar{X}_{2i}\)</span> where <span class="math inline">\(T_i\)</span> is the total number of HB trips in zone <span class="math inline">\(i\)</span></li>
<li>With dummy variables, we need to know the number of households in each group</li>
<li><span class="math inline">\(T_i=H_i(0.84+1.41X)+0.75H_{1i}+3.14H_{2i}\)</span> where <span class="math inline">\(H_{1i}\)</span> is the number of one vehicle households &amp; <span class="math inline">\(H_{2i}\)</span> is the number of two vehicle households in zone <span class="math inline">\(i\)</span></li>
</ul></li>
</ul>
</section>
<section id="matching-generations-attractions" class="slide level2 smaller">
<h2>Matching Generations &amp; Attractions</h2>
<ul>
<li><p>Models do not guarantee, by default, that total trips originating in a zone (the origins O_ùëñ) at all zones will equal the total trips attracted (the destinations ùê∑_ùëó)</p></li>
<li><p>Following expression may not hold <span class="math display">\[\sum_i O_i=\sum_j D_j\]</span></p></li>
<li><p>Generally assumed that trip generation models are <strong>better</strong> than trip attraction models</p></li>
<li><p>Total trips are then <span class="math inline">\(T=\sum_i O_i\)</span> &amp; a factor applied to trip attraction <span class="math display">\[f=T/\sum_j D_j\]</span></p></li>
<li><p>This equality is necessary for the next model step: <strong>trip distribution</strong></p></li>
</ul>
</section>
<section id="growth-factor-modeling" class="slide level2 smaller">
<h2>Growth Factor Modeling</h2>
<ul>
<li>Growth factor method given by <span class="math display">\[T_{i+t}=F_tT_i\]</span></li>
<li>Where <span class="math inline">\(T_i\)</span> is total trips at time <span class="math inline">\(i\)</span>, <span class="math inline">\(T_{i+t}\)</span> is total trips at time <span class="math inline">\(i+t\)</span>, &amp; <span class="math inline">\(F_i\)</span> is a growth factor. Determining total current trips is a simple process but forecasting future trips (i.e., <span class="math inline">\(F_t\)</span>) is a <strong>big challenge</strong></li>
<li><span class="math inline">\(F_t\)</span> is related to variables such as population (<span class="math inline">\(P\)</span>), income (<span class="math inline">\(I\)</span>), &amp; car ownership (<span class="math inline">\(C\)</span>) <span class="math display">\[F_t = \frac{f(P_t,I_t,c_t)}{f(P_i,I_i,c_i)}\]</span></li>
</ul>
</section>
<section id="growth-factor-example" class="slide level2 smaller">
<h2>Growth Factor Example</h2>
<p>Consider a zone with 250 households with vehicles and 250 households without vehicles. Assuming we know the average trip generation rates of each group:</p>
<ul>
<li>Vehicle-owning households produce 6.0 trips/day</li>
<li>Non-vehicle-owning households produce 2.5 trips/day</li>
</ul>
<p>We can determine the current number of trips as <span class="math display">\[T_i = 250 \times 2.5 + 250 \times 6.0 = 2125 \text{ trips/day}\]</span></p>
</section>
<section id="growth-factor-example-1" class="slide level2 smaller">
<h2>Growth Factor Example</h2>
<ul>
<li><p>Let‚Äôs assume that all households in the future have a vehicle. We can then estimate a simple multiplicative growth factor as <span class="math display">\[F_t = 1/0.5 = 2.0\]</span> <span class="math display">\[T_{i+t} = 2 \times 2125 = 4250 \text{ trips/day}\]</span></p></li>
<li><p>Growth factor methods are crude &amp; generally used in practice for <strong>external trips</strong> where additional information is not available</p></li>
</ul>
</section>
<section id="growth-factor-example-2" class="slide level2 smaller">
<h2>Growth Factor Example</h2>
<ul>
<li>Let us also assume that in the future all households will have a vehicle, but income &amp; population remain unchanged</li>
</ul>
<p><span class="math display">\[T_i = 6 \times 500 = 3000 \text{ trips/day}\]</span></p>
<ul>
<li><strong>But do we expect non-vehicle households to make this many more trips if income is not changing?</strong></li>
</ul>
</section>
<section id="stability-updating-trip-generation-model" class="slide level2 smaller">
<h2>Stability &amp; Updating Trip Generation Model</h2>
<ul>
<li><strong>Temporal stability</strong>: Population/socio-economic structure changes over time &amp; affects trip rates</li>
<li><strong>Geographic stability</strong>: Trip-making patterns vary from place to place</li>
<li>Updating trip generation models
<ul>
<li>If models were developed using <strong>old data</strong>, it is necessary to update the model for present situation</li>
<li>Best way to re-estimate trip generation model using <strong>present data</strong></li>
<li>If sufficient data is <strong>not available</strong>, we can update previously estimated model using <strong>small present data sample</strong></li>
</ul></li>
</ul>
</section>
<section id="forecasting-variables-in-trip-generation-analysis" class="slide level2 smaller">
<h2>Forecasting Variables In Trip Generation Analysis</h2>
<ul>
<li>Standard variables are household totals, household size (and structure), number of vehicles owned, &amp; household income</li>
<li><strong>However</strong>, there are many other factors that can be explored regarding household structure
<ul>
<li>Social circumstances likely affect travel</li>
<li>Personal living alone will have a different set of tradeoffs &amp; coordination patterns than person living in with others</li>
<li>Multi-person household dynamics will vary depending on structure ‚Äì several students living together may not coordinate trips in same way as a family</li>
<li>Elderly people living with younger people may be more engaged outside the home than those living alone or with similarly aged persons</li>
</ul></li>
</ul>
</section>
<section id="forecasting-variables-in-trip-generation-analysis-1" class="slide level2 smaller">
<h2>Forecasting Variables In Trip Generation Analysis</h2>
<ul>
<li><strong>How do life course events affect trips?</strong>
<ul>
<li>Appearance of a pre-school children</li>
<li>Time when youngest child reaches school age</li>
<li>Time when youth leaves home &amp; lives alone, with other young adults, or marries</li>
<li>Time when all children of a couple have left home but couple has not retired yet</li>
<li>Time when all members of a household reach retirement age</li>
</ul></li>
<li>Important factors for identifying/classifying households as being in similar life stage &amp; potentially having more <strong>homogeneous travel patterns</strong></li>
<li><strong>What about overall aging of population?</strong> Age tends to be associated with decline in mobility in change in lifestyle</li>
</ul>
</section>
<section id="trip-generation-inelastic-in-most-models" class="slide level2">
<h2>Trip Generation Inelastic In Most Models</h2>
<ul>
<li>Independent of the level of service provided in the transport system</li>
<li>Probably <strong>unrealistic</strong> but <strong>only recently</strong> techniques have been developed which can take systematic account of these (induced demand) effects</li>
</ul>
</section>
<section id="what-is-the-fundamental-event-of-interest" class="slide level2 smaller">
<h2>What is the fundamental event of interest?</h2>
<ul>
<li><strong>Trip or journey</strong>: one-way movement from an origin point to a destination point
<ul>
<li><strong>Home-based (HB) trip</strong>: trip with the home (or hotel for a nonresident) being either the trip origin or destination</li>
<li><strong>Non-home-based (NHB) trip</strong>: trip where neither end of the trip is the home</li>
<li><strong>Trip production</strong>: defined as the home end of an HB trip or as the origin of an NHB</li>
<li><strong>Trip attraction</strong>: defined as the non-home end of an HB trip or the destination of an NHB</li>
<li><strong>Trip generation</strong>: total number of trips generated by households in a zone, both HB &amp; NHB</li>
</ul></li>
</ul>
</section>
<section id="what-is-the-fundamental-event-of-interest-1" class="slide level2 smaller">
<h2>What is the fundamental event of interest?</h2>
<ul>
<li><strong>Activity</strong>: short stay at a particular location
<ul>
<li>Usually has a purpose associated to it: work, study, shopping, leisure, etc.</li>
</ul></li>
<li><strong>Tour or trip chain</strong>: a sequence of linked trips</li>
<li><strong>Tours</strong> &amp; <strong>activities</strong> correspond more closely with the idea of travel as a derived demand than do the first concepts
<ul>
<li>Contemporary models are generally interested in <strong>tours</strong> rather than <strong>trips</strong>. <strong>Why?</strong></li>
</ul></li>
</ul>
</section>
<section id="trip-generation-accessibility" class="slide level2 smaller">
<h2>Trip Generation &amp; Accessibility</h2>
<ul>
<li>Classical transport planning (4-step) model can incorporate an <strong>iterative process</strong> between distribution &amp; assignment, leaving trip generation unaltered</li>
<li>True even in most contemporary models, which attempt to appropriately solve supply-demand equilibrium problem</li>
<li><strong>Disadvantage</strong>: changes to network assumed to have no effect on trip productions &amp; attractions
<ul>
<li>E.g., Extension of a subway line would not generate more trips between that zone &amp; other zones</li>
<li>May hold for compulsory trips but unlikely to hold for discretionary trips</li>
</ul></li>
</ul>
</section>
<section id="trip-generation-accessibility-1" class="slide level2 smaller">
<h2>Trip Generation &amp; Accessibility</h2>
<ul>
<li>Attempts made to incorporate an <strong>accessibility measure</strong> into trip generation by replacing <span class="math inline">\(O_i = f(H_i)\)</span> by <span class="math inline">\(f(H_i,A_i\)</span> where <span class="math inline">\(H_i\)</span> are household characteristics &amp; <span class="math inline">\(A_i\)</span> is an accessibility measure</li>
<li>Accessibility generally defined by <span class="math inline">\(A_i = \sum_j f(E_j, C_{ij})\)</span> where <span class="math inline">\(E_j\)</span> is an attraction measure for zone <span class="math inline">\(j\)</span> &amp; <span class="math inline">\(C_{ij}\)</span> is a <strong>generalized cost of travel</strong> between zones <span class="math inline">\(i\)</span> &amp; <span class="math inline">\(j\)</span>.
<ul>
<li>Often give wrong sign or non-significant results due to unresolved model dynamics &amp; problems from using cross-sectional rather than longitudinal data</li>
<li>Leads to <strong>activity-based models</strong> &amp; trip frequency/scheduling choice models (discussed in <strong>CIVE864</strong>)</li>
</ul></li>
</ul>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../images/logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="../../..\teaching/CIVE461/">CIVE461 Home</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../../site_libs/revealjs/plugin/multiplex/socket.io.js"></script>
  <script src="../../../site_libs/revealjs/plugin/multiplex/multiplex.js"></script>
  <script src="../../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'multiplex': {"secret":null,"id":"76a885965f6d2e81","url":"https://reveal-multiplex.glitch.me/"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/Hawkins-TECH-Lab\.github\.io\/hawkins-tech-lab\.github\.io\/");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>