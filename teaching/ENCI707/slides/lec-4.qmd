---
title: "Lecture 4 - Disaggregate Econometric Choice Theory"
subtitle: "ENCI707: Engineering Demand and Policy Analysis"
footer:  "[ENCI707 Home](/teaching/ENCI707/)"
logo: "../images/logo.png"
format: 
  revealjs: 
    theme: simple
    transition: fade
    chalkboard: true
    slide-number: true
execute:
  freeze: auto
---

## Demand Versus Choice
::::: columns
::: {.column width="50%"}
Aggregate
Homogenous people
Identical behavior 
Variables: Price (P) and quantity (Q)
Demand function: Q = f(P)
Demand = Bundle of choices
:::
::: {.column width="50%"}
Disaggregate
Heterogeneous people
Random behavior
Variables: Attributes of choice alternatives; attributes of choice maker; context of choices
Non-linear choice function
:::
:::::

## Transportation Choices
Many travel demand related choices are:
Discrete: activity type choice, mode choice, route choice, vehicle type choice, time of the day choice, location of trip destination choice etc.
Continuous: activity duration, vehicle usage, housing duration, etc.
Heterogeneous: Wide variations of choices across the population.
Probabilistic/stochastic/random: We canâ€™t defined deterministically. 


## Choice as Consumption
![](../../../assets/images/teaching/ENCI707/Lecture3/translog-paper3.png){fig-align="center"}

## Theory of Choice Behaviour
Descriptive (or positive): how human beings behave, not how they should/ought to behave.
Abstract: that can be formalized in general cases not specific to particular circumstances.
Operational: can be applied to develop models with variables and parameters that can be observed and estimated. Models can be used for prediction and/or policy evaluation.

## Framework of Choice Theory
Choice as outcome of sequential decision-making:
 Definition of the choice problem.
 Generation of alternatives.
 Evaluation of attributes of alternatives.
 Choice making.
 Executing the choice.
Define:
 Decision maker.
 Characteristics of decision maker.
 Alternatives.
 Attributes of alternatives.
 Decision rules to make choice.

## Decision Maker
Disaggregate: Individual or group (household, family, firms, government agency, etc.).
Heterogeneous choice makers: Wide variety in choice behavior across the population.
Taste variations across the choice/decision makers: Idiosyncrasy.
Different choice situations for different people.
Characteristics of heterogeneous choice maker:
Socio-economics: age, gender, income, education, household/firm size, etc.
Choice situations/context: spatial, temporal, economic

## Alternatives
Choice means choosing an alternative out of a choice set (mutually exclusive and collectively exhaustive countable set of alternatives):
Universal choice set: C.
Feasible / Individual-specific, Ci.
Consideration (awareness) set, Cci.

Example:
 C = { Private car, Uber, Taxi, Bus, Bicycle, Walk}

 No driverâ€™s license, distance > 3 km
Ci = { Uber, Taxi, Bus, Bicycle}

No driverâ€™s license, distance > 3 km & not aware of Uber
Cci = { Taxi, Bus, Bicycle}

## Alternatives - Attributes
Decision maker evaluates alternatives in terms of attribute values: Attribute values can be measured on the scale of attractiveness:
Categorical: Binary, ordinal (reliability, safety, convenience, etc.)
Cardinal: absolute values (time, cost, etc.)
Generic versus alternative-specific.
Measured versus perceived.


## Decision Rules
Rational behavior (homo economicus): self-interested economic actor who optimizes own choice outcomes.
Bounded rationality: Use rules to simplify:
Dominance: Rules used to remove inferior alternative.
Satisfaction: Attributes of the alternatives need to satisfy the expectation level.
Lexicographic: attributes are rank ordered by their level of importance.
Utility maximizing: maximize a latent function of different attributes of alternatives in the choice set.

## Utility Maximization
Utility function: 
Captures relative attractiveness of alternative in the choice set.
Measures the satisfaction that the decision maker wants to optimize.
Assumptions:
Decision maker has full knowledge about the attributes of the alternatives and is able to process information.
Base on information processing, decision maker associates a utility to each alternative.
Decision maker has transitive preference.
Decision maker is rational and perfect optimizer.
Decision maker is consistent.

## Probability in Utility Maximization
::::: columns
::: {.column width="50%"}
Constant utility: 
Utility is deterministic and cardinal in nature.
Decision maker does not maximize utility. 
However, human behavior is inherently random.
:::
::: {.column width="40%"}
Random utility: 
Decision maker is a rational optimizer.
Modeller do not observe the exact measure of utility used by the decision maker.
Utility becomes random and ordinal variable.
Probabilistic choice model because of unobserved heterogeneity (randomness)
:::
:::::

## Discrete Choice
Two alternatives: transit, car
$$ğ‘ˆ_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡=ğ›½_ğ‘¡ ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡+ğ›½_ğ‘$$ ğ¶ğ‘œğ‘ ğ‘¡_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡ (Typically, Î²t, Î²c <0)

$$ğ‘ˆ_ğ‘ğ‘ğ‘Ÿ=ğ›½_ğ‘¡ ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘ğ‘ğ‘Ÿ+ğ›½_ğ‘ ğ¶ğ‘œğ‘ ğ‘¡_ğ‘ğ‘ğ‘Ÿ$$

Equivalent specification
$$ğ‘ˆ_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡=(ğ›½_ğ‘¡/ğ›½_ğ‘)ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡+ğ¶ğ‘œğ‘ ğ‘¡_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡$$

$$ğ‘ˆ_ğ‘ğ‘ğ‘Ÿ=(ğ›½_ğ‘¡/ğ›½_ğ‘)ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘ğ‘ğ‘Ÿ+ğ¶ğ‘œğ‘ ğ‘¡_ğ‘ğ‘ğ‘Ÿ
$$

Choice: car, if
$$ğ›½_ğ‘¡ ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘ğ‘ğ‘Ÿ+ğ›½_ğ‘ ğ¶ğ‘œğ‘ ğ‘¡_ğ‘ğ‘ğ‘Ÿâ‰¥ğ›½_ğ‘¡ ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡+ğ›½_ğ‘ ğ¶ğ‘œğ‘ ğ‘¡_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡
$$

or
$$(ğ›½_ğ‘¡/ğ›½_ğ‘)ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘ğ‘ğ‘Ÿ+ğ¶ğ‘œğ‘ ğ‘¡_ğ‘ğ‘ğ‘Ÿâ‰¤(ğ›½_ğ‘¡/ğ›½_ğ‘)ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡+ğ¶ğ‘œğ‘ ğ‘¡_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡
$$

## Discrete Choice
Car is the dominant alternative, if
$$ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘ğ‘ğ‘Ÿ<ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡&ğ¶ğ‘œğ‘ ğ‘¡_ğ‘ğ‘ğ‘Ÿ<ğ¶ğ‘œğ‘ ğ‘¡_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡âˆ´ğ‘ˆ_ğ‘ğ‘ğ‘Ÿ>ğ‘ˆ_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡$$

Car and transit in competition, if
$$ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘ğ‘ğ‘Ÿ<ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡&ğ¶ğ‘œğ‘ ğ‘¡_ğ‘ğ‘ğ‘Ÿ>ğ¶ğ‘œğ‘ ğ‘¡_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡$$

Is the traveler willing to pay extra (Costcar-Costtransit) to save (Timetransit -Timecar)?

If yes (pick car):
$$(ğ›½_ğ‘¡/ğ›½_ğ‘ )ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘ğ‘ğ‘Ÿ+ğ¶ğ‘œğ‘ ğ‘¡_ğ‘ğ‘ğ‘Ÿâ‰¤(ğ›½_ğ‘¡/ğ›½_ğ‘ )ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡+ğ¶ğ‘œğ‘ ğ‘¡_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡$$

Willingness-to-pay or Value of Travel Time Savings (VOTS):
$$(ğ›½_ğ‘¡/ğ›½_ğ‘ )â‰¥((ğ¶ğ‘œğ‘ ğ‘¡_ğ‘ğ‘ğ‘Ÿâˆ’ğ¶ğ‘œğ‘ ğ‘¡_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡))/((ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡âˆ’ğ‘‡ğ‘–ğ‘šğ‘’_ğ‘ğ‘ğ‘Ÿ))$$

## Discrete Choice
![](../../../assets/images/teaching/ENCI707/Lecture3/translog-paper3.png){fig-align="center"}

## Discrete Choice
![](../../../assets/images/teaching/ENCI707/Lecture3/translog-paper3.png){fig-align="center"}

## Stochastic Discrete Choice
Choice Probability of an alternative j for an individual i with choice set Ci
$$Prâ¡( ğ‘—|ğ¶_ğ‘–)=Prâ¡( ğ‘ˆ_ğ‘–ğ‘—â‰¥ğ‘ˆ_ğ‘–ğ‘˜);ğ‘˜â‰ ğ‘—&ğ‘˜âˆˆğ¶_ğ‘–$$

Random utility:
$$ğ‘ˆ_ğ‘–ğ‘—=ğ‘‰_ğ‘–ğ‘—+ğœ€_ğ‘–ğ‘—;ğ‘—âˆˆğ¶_ğ‘–$$

Random Utility Maximizing (RUM) Choice Model:
$$Prâ¡( ğ‘—|ğ¶_ğ‘–)=Prâ¡( ğ‘‰_ğ‘–ğ‘—+ğœ€_ğ‘–ğ‘—â‰¥ğ‘‰_ğ‘–ğ‘˜+ğœ€_ğ‘–ğ‘˜);ğ‘˜â‰ ğ‘—&ğ‘˜âˆˆğ¶_ğ‘–$$
Or
$$Prâ¡( ğ‘—|ğ¶_ğ‘–)=Prâ¡( ğœ€_ğ‘–ğ‘˜âˆ’ğœ€_ğ‘–ğ‘—â‰¤ğ‘‰_ğ‘–ğ‘—âˆ’ğ‘‰_ğ‘–ğ‘˜);ğ‘˜â‰ ğ‘—&ğ‘˜âˆˆğ¶_ğ‘–$$

## RUM-Based Discrete Choice
Fully specified choice set Ci.
Attributes of alternatives are completely defined.
Only differences in utility matters.
Systematic utility function is specified as a function of attributes.
An attribute may have the same (generic) weighting factors (coefficient) for all alternatives if it varies across the alternatives (e.g., travel time, travel cost, etc.).
An attribute may have different weighting factors (coefficient) for different alternatives if it does not vary across the alternatives (age, gender, income, etc.).
Assumption on distribution of random utility is necessary to derive choice probability: Stochastic Choice Model.


## Binary Discrete Choice
Choice Probability of an alternative j for an individual i with choice set Ci of 2 alternatives: j, k
$$Prâ¡( ğ‘—|ğ¶_ğ‘–)=Prâ¡( ğ‘‰_ğ‘–ğ‘—+ğœ€_ğ‘–ğ‘—â‰¥ğ‘‰_ğ‘–ğ‘˜+ğœ€_ğ‘–ğ‘˜)$$

$$=Prâ¡( ğœ€_ğ‘˜âˆ’ğœ€_ğ‘—â‰¤ğ‘‰_ğ‘—âˆ’ğ‘‰_ğ‘˜)$$

Binary Probit:
Îµj,Îµk are both normally distributed.
So,(Îµk-Îµj) is also normally distributed.
With fully specified alternative specific constants, (Îµk-Îµj) is N(0,Ïƒ2):

Resulting Choice model:
Ïƒ normalized to 1, giving probit model with unit variance.

## Binary Discrete Choice
Binary Logit:
Îµj,Îµk are IID Type I EV distributed with scale Î¼ and variance Ï€2/6Î¼2
With fully specified alternative specific constant (Îµk-Îµj) is logistically distributed with scale Î¼ and variance Ï€2/3Î¼2:
 
Resulting Choice model:


Î¼ normalized to 1, giving logit model with variance of Ï€2/3

## Binary Discrete Choice
Binary Probit/Logit Identification
Only one alternative specific constant.
Scale of logit model is not identified as a constant.
Reference alternative is irrelevant.
$$ğ‘‰_ğ‘—âˆ’ğ‘‰_ğ‘˜=ğ‘‰=ğ›½_0+âˆ‘â–’ã€–ğ›½(ğ‘¥_ğ‘—âˆ’ğ‘¥_ğ‘˜)ã€—$$

$$ğ‘‰_ğ‘—=ğ›½_0+ğ›½(ğ‘¥_ğ‘”ğ‘’ğ‘›ğ‘’ğ‘Ÿğ‘–ğ‘ )_ğ‘—+ğ›½_(ğ‘—âˆ’ğ‘ ğ‘ğ‘’ğ‘ğ‘–ğ‘“ğ‘–ğ‘) (ğ‘¥_(ğ‘—âˆ’ğ‘ ğ‘ğ‘’ğ‘ğ‘–ğ‘“ğ‘–ğ‘))ğ‘‰_ğ‘˜=0+ğ›½(ğ‘¥_ğ‘”ğ‘’ğ‘›ğ‘’ğ‘Ÿğ‘–ğ‘ )_ğ‘˜+ğ›½_(ğ‘˜âˆ’ğ‘ ğ‘ğ‘’ğ‘ğ‘–ğ‘“ğ‘–ğ‘) (ğ‘¥_(ğ‘˜âˆ’ğ‘ ğ‘ğ‘’ğ‘ğ‘–ğ‘“ğ‘–ğ‘))
$$

$$ğ‘‰_ğ‘ğ‘ğ‘Ÿ=ğ›½_0+ğ›½_ğ‘¡ ("time" )_ğ‘ğ‘ğ‘Ÿ+ğ›½_ğ‘ ("cost" )_ğ‘ğ‘ğ‘Ÿ+ğ›½_ğ‘œ ("Car ownership")ğ‘‰_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡=0+ğ›½_ğ‘¡ ("time" )_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡+ğ›½_ğ‘ ("fare" )_ğ‘¡ğ‘Ÿğ‘ğ‘›ğ‘ ğ‘–ğ‘¡+ğ›½_ğ‘Ÿ ("On"âˆ’"timeperformance")
$$

Allows non-linear transformation and normalizations.

