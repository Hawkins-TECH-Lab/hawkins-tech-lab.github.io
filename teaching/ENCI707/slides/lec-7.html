<!DOCTYPE html>
<html lang="en"><head>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.39">

  <title>Hawkinslab ‚Äì Lecture 7 - Causal Inference</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/theme/quarto-423d414d36ce366a9d05f36d06304417.css">
  <link href="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Lecture 7 - Causal Inference</h1>
  <p class="subtitle">ENCI707: Engineering Demand and Policy Analysis</p>

<div class="quarto-title-authors">
</div>

</section>
<section id="outline" class="slide level2">
<h2>Outline</h2>
<div>
<ol type="1">
<li class="fragment">Need for causal inference</li>
<li class="fragment">Methods of causal inference
<ul>
<li class="fragment">Propensity score matching</li>
<li class="fragment">Instrumental variables</li>
<li class="fragment">Regression discontinuity</li>
<li class="fragment">Difference-in-differences</li>
</ul></li>
<li class="fragment">Causal Graph Theory</li>
</ol>
</div>
</section>
<section id="causal-inference-in-transportation-planning" class="slide level2">
<h2>Causal Inference in Transportation Planning</h2>
<ul>
<li>Large-scale transportation models principally concerned with prediction</li>
<li>However, increasingly interested in policy interventions &amp; treatments</li>
</ul>
</section>
<section id="need-for-causal-inference---interpretation" class="slide level2">
<h2>Need for Causal Inference - Interpretation</h2>
<ul>
<li>People are told to run around in a dark room for 5 minutes</li>
<li><strong>Observation</strong>: Men are found to have many more head injuries than women</li>
<li>Conclusion:
<ul>
<li>Women see better in the dark?</li>
<li>Men are more reckless runners?</li>
</ul></li>
</ul>
</section>
<section id="need-for-causal-inference---unobserved-heterogeneity" class="slide level2">
<h2>Need for Causal Inference - Unobserved Heterogeneity</h2>
<ul>
<li>Women who smoke have babies that are 600 grams under weight on average</li>
<li><strong>Problem</strong>:
<ul>
<li>Is it due to smoking or unobserved factors that are correlated with smoking?</li>
</ul></li>
</ul>
</section>
<section id="need-for-causal-inference-endogeneity-self-selection" class="slide level2">
<h2>Need for Causal Inference ‚Äì Endogeneity &amp; Self-Selection</h2>
<ul>
<li>Cars with side impact airbags have lower injury severities when involved in crashes</li>
<li><strong>Problem</strong>:
<ul>
<li>People owning side-impact airbags are not a <strong>random sample</strong> from the population (likely safer drivers)</li>
<li>Safter drivers expected to have lower injury severities</li>
</ul></li>
</ul>
</section>
<section id="need-for-causal-inference-endogeneity-self-selection-1" class="slide level2">
<h2>Need for Causal Inference ‚Äì Endogeneity &amp; Self-Selection</h2>
<ul>
<li>People who take motorcycle safety courses have higher crash rates</li>
<li><strong>Problem</strong>:
<ul>
<li>Are courses ineffective?</li>
<li>People taking the course are not a random sample from the population (possibly less skilled)</li>
</ul></li>
</ul>
</section>
<section id="causation-potential-outcomes" class="slide level2">
<h2>Causation = Potential Outcomes</h2>
<ul>
<li>A key concept in causal inference is <strong>potential outcomes</strong></li>
<li>What happened vs.&nbsp;what could have happened (<strong>counterfactual states</strong>)</li>
<li>We will work with several examples to illustrate the principles‚Ä¶</li>
</ul>
</section>
<section id="example-omega-3-fatty-acids" class="slide level2 smaller">
<h2>Example: Omega-3 Fatty Acids</h2>
<p><strong>Problem</strong>: Does consumption of omega-3 fish oil supplements promote a healthy blood pressure?</p>
<p><strong>Experiment</strong>: Eight friends agree to be part of an informal study on the relationship between fish oil supplements and systolic blood pressure. Four of the friends are placed in the ‚Äúfish oil supplement‚Äù <strong>treatment group</strong>. Members of this group agree to consume 3 grams of fish oil supplements per day for one year while otherwise maintaining their current diets. The other four friends agreed to simply maintain their current diets free from fish oil supplements for the same year. At the end of the study period:</p>
<ul>
<li>Measure blood pressure</li>
<li>Assume 160 mmHg and above represents ‚Äúhigh blood pressure‚Äù</li>
</ul>
</section>
<section id="formal-problem-statement" class="slide level2 smaller">
<h2>Formal Problem Statement</h2>
<p><span class="math display">\[ùëß = 0 \text{; no fish oil supplement}\]</span> <span class="math display">\[ùëß = 1 \text{; fish oil supplement}\]</span></p>
<ul>
<li>Need to consider two cases:
<ul>
<li>Blood pressure given a person <strong>did not</strong> ingest any fish oil supplement <span class="math inline">\((y_i^0)\)</span></li>
<li>Blood pressure given a person <strong>did</strong> ingest fish oil supplement <span class="math inline">\((y_i^1)\)</span></li>
</ul></li>
<li>Only ever observe <strong>one outcome per person</strong> ‚Äì no time machines!</li>
</ul>
</section>
<section id="formal-problem-statement-1" class="slide level2">
<h2>Formal Problem Statement</h2>
<ul>
<li>Treatment given by <span class="math inline">\(T_i = y_i^1 - y_i^0\)</span></li>
<li><strong>Fundamental problem of causal inference</strong>: cannot observe both <span class="math inline">\(y_i^1\)</span> and <span class="math inline">\(y_i^0\)</span></li>
<li>Can only estimate average causal effect across a sample (population)</li>
</ul>
</section>
<section id="close-substitutes" class="slide level2">
<h2>Close Substitutes</h2>
<ul>
<li>What about using pre-study blood pressure as <span class="math inline">\(ùë¶_ùëñ^0\)</span>?
<ul>
<li>Do not know if person made other changes over the year</li>
</ul></li>
<li>What about using post-study blood pressure as <span class="math inline">\(ùë¶_ùëñ^0\)</span>?
<ul>
<li>Do not know if treatment has effect into year 2</li>
</ul></li>
</ul>
</section>
<section id="average-treatment-effects" class="slide level2 smaller">
<h2>Average Treatment Effects</h2>
<ul>
<li>Start with treatment and control groups</li>
<li>Need sufficiently similar groups ‚Äì balance</li>
<li>Beware self-selection bias <img data-src="../../../assets/images/teaching/ENCI707/Lecture7/ate_figure.png" class="quarto-figure quarto-figure-center"></li>
<li>True average treatment effect = -7.5 mmHG</li>
<li>Average treatment effect|treatment = +12.5 mmHG</li>
</ul>
</section>
<section id="causal-experiment-design" class="slide level2">
<h2>Causal Experiment Design</h2>
<ul>
<li><strong>Randomized controlled trials</strong> are ‚Äúgold standard‚Äù</li>
<li><strong>Almost never available</strong> for transportation/social science research questions</li>
<li>What to do?</li>
</ul>
</section>
<section id="adjustment-for-pretreatment-variables" class="slide level2">
<h2>Adjustment for Pretreatment Variables</h2>
<ul>
<li>Differences between treatment &amp; control variables can be captured by including <strong>pretreatment variables</strong> in the model</li>
<li>Addresses both random (<strong>variance</strong>) and systematic (<strong>bias</strong>) differences between treatment &amp; control</li>
<li><strong>Do not</strong> adjust for posttreatment variables unless performing more complex analysis ‚Äì e.g., instrumental variables (<strong>IV</strong>)</li>
</ul>
</section>
<section id="ignorability-condition" class="slide level2">
<h2>Ignorability Condition</h2>
<ul>
<li><strong>Ignorability in causal inference</strong>: no imbalance between treatment &amp; control, on average</li>
<li><strong>Assignment to treatment</strong> does not imply anything about potential outcome</li>
</ul>
</section>
<section>
<section id="causal-inference-in-observational-studies" class="title-slide slide level1 center">
<h1>Causal Inference in Observational Studies</h1>

</section>
<section id="causal-inference-in-observational-studies-1" class="slide level2">
<h2>Causal Inference in Observational Studies</h2>
<ul>
<li>We rarely have access to a random controlled trial</li>
<li>Observational causation is an exercise in logic &amp; relative causal strength <strong>NOT</strong> causation</li>
</ul>
</section>
<section id="health-status-example" class="slide level2">
<h2>Health Status Example</h2>
<ul>
<li>Consider 100 patients receive a treatment and 1000 receive the control condition</li>
<li><strong>Causal truth</strong>: treatment has zero effect on health outcomes</li>
<li>Suppose treatment and control groups <strong>systematically differ</strong>, with healthier patients receiving treatment</li>
</ul>
</section>
<section id="health-status-example-1" class="slide level2">
<h2>Health Status Example</h2>

<img data-src="../../../assets/images/teaching/ENCI707/Lecture7/health_status_ex.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="adding-predictors-omitted-variables" class="slide level2">
<h2>Adding Predictors: Omitted Variables</h2>
<ul>
<li>Simple solution is to compare treated and control units <strong>conditional on previous health status</strong></li>
<li>Health status is a <strong>confounding variable</strong> ‚Äì affects both treatment &amp; outcome</li>
<li>If all confounding variable observed, then consistent causal treatment is possible</li>
</ul>
</section>
<section id="omitted-variable-bias" class="slide level2 smaller">
<h2>Omitted Variable Bias</h2>
<ul>
<li>Correct specification: <span class="math display">\[y_i = \beta_0 + \beta_1 ùëß_ùëñ + \beta_2 x_i + \epsilon_ùëñ\]</span></li>
<li>where <span class="math inline">\(ùëß_ùëñ\)</span> is the treatment and <span class="math inline">\(ùë•_ùëñ\)</span> is the covariate for unit <span class="math inline">\(i\)</span></li>
<li>If <span class="math inline">\(ùë•_ùëñ\)</span> is ignored then: <span class="math display">\[ùë¶_ùëñ=\beta_0^‚àó+\beta_1^‚àó ùëß_ùëñ+\epsilon_ùëñ^‚àó\]</span></li>
<li>Using <span class="math inline">\(ùë•_ùëñ=\gamma_0+\gamma_1 ùëß_ùëñ+ùúà_ùëñ\)</span>: <span class="math display">\[ùë¶_ùëñ=\beta_0+\beta_2 \gamma_1+(\beta_1+\beta_2 \gamma_1 ) ùëß_ùëñ+\epsilon_ùëñ+\beta_2 ùúà_ùëñ\]</span></li>
<li>Then: <span class="math display">\[\beta_1^‚àó=\beta_1+\beta_2 \gamma_1 \text{; }\gamma_1=0 \text{ denotes a non-confounding variable}\]</span></li>
</ul>
</section>
<section id="ignorability-in-observational-studies" class="slide level2 smaller">
<h2>Ignorability in Observational Studies</h2>
<ul>
<li><strong>Strict ignorability</strong> says distribution of potential outcomes same across treatment levels: <span class="math display">\[ùë¶^0,ùë¶_1 \perp ùëß\]</span></li>
<li>Conditional ignorability says the distribution of potential outcomes across treatment levels is the same, conditional on the covariates, <span class="math inline">\(x\)</span>: <span class="math display">\[ùë¶^0,ùë¶_1 \perp ùëß|ùë•\]</span></li>
<li>Must make ‚Äúleap of faith‚Äù that we have conditioned on all necessary confounding variables ‚Äì <strong>selection on observables</strong> in econometrics literature</li>
</ul>
</section>
<section id="common-support-or-overlap" class="slide level2">
<h2>Common Support or Overlap</h2>

<img data-src="../../../assets/images/teaching/ENCI707/Lecture7/common_support.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="propensity-score-matching-psm" class="slide level2">
<h2>Propensity Score Matching (PSM)</h2>
<ul>
<li><strong>Matching</strong>: restructure data for statistical analysis</li>
<li>Goal is to create attribute balance between treatment &amp; control samples</li>
<li>Five step procedure</li>
</ul>
</section>
<section id="psm-step-1---define-confounders-estimand" class="slide level2">
<h2>PSM: Step 1 - Define confounders &amp; estimand</h2>
<ul>
<li>Based on relevant literature</li>
<li>Typically adjust control group to match treated to estimate <strong>effect of the treatment on the treated</strong></li>
<li><strong>Careful!</strong> Including additional covariates may increase bias away from the true estimate if not all confounding covariates are available ‚Äì avoid potential <strong>instrumental variables</strong></li>
</ul>
</section>
<section id="psm-step-2---estimating-propensity-score" class="slide level2">
<h2>PSM: Step 2 - Estimating propensity score</h2>
<ul>
<li>Model of Pr(receiving treatment)</li>
<li>Typically, a <strong>logistic regression</strong> for binary treatment, then use propensity score as covariate summary</li>
<li>Propensity score gives a distance metric</li>
</ul>
</section>
<section id="psm-step-3---matching-to-restructure-data" class="slide level2">
<h2>PSM: Step 3 - Matching to restructure data</h2>
<ul>
<li>Create matched pairs with control samples with closest propensity score ‚Äì can be with/without replacement</li>
<li>Better matches with replacement but may overuse some sample units</li>
</ul>
</section>
<section id="psm-step-4---diagnostics-for-balance-overlap" class="slide level2">
<h2>PSM: Step 4 - Diagnostics for balance &amp; overlap</h2>
<ul>
<li>Several diagnostics exist based on difference of means, etc.</li>
<li>Evaluate and change model or method (if required)</li>
</ul>
</section>
<section id="psm-step-5---estimate-treatment-effect-using-restructured-data" class="slide level2">
<h2>PSM: Step 5 - Estimate treatment effect using restructured data</h2>
<ul>
<li>Estimate regression model with propensity score and confounder variables</li>
<li>Incorporate data restructuring via <strong>weights</strong> ‚Äì typically inverse probability weights</li>
</ul>
</section>
<section id="instrumental-variable-iv" class="slide level2">
<h2>Instrumental Variable (IV)</h2>
<ul>
<li>When ignorability of treatment seems weak, IV can be a good approach</li>
<li>Instrument <span class="math inline">\(z\)</span> should predict the treatment <span class="math inline">\(T\)</span> but not the outcome <span class="math inline">\(y\)</span></li>
<li>Assumptions:
<ul>
<li>Ignorability of instrument</li>
<li>Monotonicity</li>
<li>Nonzero association between treatment &amp; instrument</li>
<li>Exclusion restriction ‚Äì no instrument effect on excluded variables</li>
</ul></li>
</ul>
</section>
<section id="iv-in-regression" class="slide level2">
<h2>IV in Regression</h2>
<ul>
<li>General framework <span class="math display">\[ùë¶_ùëñ=\beta_0+\beta_1 ùëá_ùëñ+\epsilon_ùëñ\]</span> <span class="math display">\[ùëá_ùëñ=\gamma_0+\gamma_1 ùëß_ùëñ+ùúà_ùëñ\]</span></li>
<li>Where <span class="math inline">\(ùëß_ùëñ\)</span> is uncorrelated with both <span class="math inline">\(\epsilon_ùëñ\)</span> and <span class="math inline">\(ùúà_ùëñ\)</span> (ignorability and exclusion restriction)</li>
<li><strong>Identifiability</strong>: whether data contain sufficient information for unique estimation of parameter (or set of parameters)</li>
</ul>
</section>
<section id="iv-in-regression-1" class="slide level2">
<h2>IV in Regression</h2>
<ul>
<li>With <span class="math display">\[ùë¶=\beta_0+\beta_1 ùëá+\beta_2 ùëß+ùëíùëüùëüùëúùëü\]</span> <span class="math display">\[ùëá=\gamma_0+\gamma_1 ùëß+ùëíùëüùëüùëúùëü\]</span></li>
<li>Substituting T into y: <span class="math display">\[ùë¶=(\beta_0+\beta_1 \gamma_0 )+(\beta_1 \gamma_1+\beta_2 )ùëß+ùëíùëüùëüùëúùëü\]</span></li>
<li>where <span class="math inline">\(\beta_1\)</span> is our parameter of interest</li>
<li>Using <span class="math inline">\(ùë¶=\delta_0+\delta_1 ùëß+ùëíùëüùëüùëúùëü\)</span> where <span class="math inline">\(\delta_1=\beta_1 \gamma_1+\beta_2\)</span> we get <span class="math display">\[\beta_1=(\delta_1‚àí\beta_2)/\gamma_1\]</span></li>
</ul>
</section>
<section id="iv-in-regression-2" class="slide level2">
<h2>IV in Regression</h2>
<ul>
<li>Cannot estimate <span class="math inline">\(\beta_2\)</span> because error in <span class="math inline">\(f(y)\)</span> can be correlated with T ‚Äì exclusion restriction means <span class="math inline">\(\beta_2=0\)</span> giving <span class="math inline">\(\beta_1=\delta_1/\gamma_1\)</span></li>
<li>Estimation is by two-stage least squares (2SLS)</li>
<li>Standard errors require adjustment in instrumental variable estimation ‚Äì should be accounted for in any software package</li>
</ul>
</section>
<section id="exclusion-restriction-plausibility" class="slide level2">
<h2>Exclusion Restriction Plausibility</h2>
<ul>
<li>One way to assess the plausibility of the exclusion restriction is to calculate an estimate within a sample that would not be expected to be affected by the instrument</li>
<li>Researchers estimated the effect of military service on earnings (and other outcomes) using, as an instrument, the lottery number for young men eligible for the draft during the Vietnam War
<ul>
<li>Randomly assigned number and strongly affected the probability of military service</li>
<li>Men with low lottery numbers may have altered their educational plans to avoid or postpone military service (would void exclusion restriction)</li>
</ul></li>
<li>Ran IV model for a sample of men who were assigned numbers so late that the war ended before they ever had to serve
<ul>
<li>No clear relation between lottery number and earnings, providing support for the exclusion restriction</li>
</ul></li>
</ul>
</section>
<section id="weak-instrument" class="slide level2">
<h2>Weak Instrument</h2>
<ul>
<li>Only assumption we can test ‚Äì instrument has non-zero correlation with treatment variable</li>
<li>If low correlation, then a <strong>weak instrument</strong></li>
</ul>
</section>
<section id="regression-discontinuity" class="slide level2">
<h2>Regression Discontinuity</h2>
<ul>
<li><strong>Non-random assignment</strong> but <strong>mechanism</strong> entirely known to researcher</li>
<li>Consider a policy that gives tutoring to students with test scores &lt; 60</li>
<li>Consider all students with score in range of 60 ‚Äì discontinuity at 60
<ul>
<li>Works well when discontinuity relates to outcome ‚Äì e.g., pre-test scores on post-test scores</li>
<li>Does not work well if comparing across <strong>geography</strong> due to spatial heterogeneity</li>
</ul></li>
</ul>
</section>
<section id="fixed-effect-models" class="slide level2">
<h2>Fixed Effect Models</h2>
<ul>
<li>Use repeated observations within groups ‚Äì e.g., twin comparisons that holds confounding variables fixed</li>
<li>Simply a regression model with group-specific intercepts <span class="math display">\[ùë¶_ùëñùëó=\beta_0+ùúèùëß_ùëñùëó+ùõº_ùëñ+ùúñ_ùëñùëó\]</span></li>
<li>where j is an indicator of intra-group units</li>
<li>Requires treatment to vary within groups</li>
</ul>
</section>
<section id="difference-in-differences" class="slide level2">
<h2>Difference-In-Differences</h2>
<ul>
<li>Comparison across units (typically) using time as an additional dimension of variation</li>
<li>E.g., effect of new school busing program on housing prices in school district
<ul>
<li>Compare prices before/after between district with school busing program and those without it</li>
<li>A measure of <strong>differences in trajectory</strong></li>
</ul></li>
</ul>
</section></section>
<section>
<section id="quick-overview-of-causal-graph-theory" class="title-slide slide level1 center">
<h1>Quick Overview of Causal Graph Theory</h1>

</section>
<section id="causal-graph-theory" class="slide level2">
<h2>Causal Graph Theory</h2>
<ul>
<li>Another perspective on causal inference from computer science ‚Äì Judea Pearl et al.</li>
<li>Abstract causal inference to a visual/graphical depiction</li>
<li>Develop system of symbolic calculus</li>
<li>Nonparametrically solve identification problem</li>
<li>Concept of directed acyclic graphs (DAGs)</li>
</ul>
</section>
<section id="causal-graph-theory-1" class="slide level2">
<h2>Causal Graph Theory</h2>
<ul>
<li><strong>English</strong>: Smoking (X), Cancer (Y), Tar (Z), Genotypes(U)</li>
<li>Directed acyclic graph (DAG) <img data-src="../../../assets/images/teaching/ENCI707/Lecture7/dag.svg" class="quarto-figure quarto-figure-center"></li>
</ul>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../../../assets/images/teaching/ENCI707/logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="../../..\teaching/ENCI707/">ENCI707 Home</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/hawkins-tech-lab\.github\.io\/");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>