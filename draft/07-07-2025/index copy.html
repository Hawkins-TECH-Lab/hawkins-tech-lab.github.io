<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jason Hawkins">
<meta name="dcterms.date" content="2025-07-07">

<title>Stating the revealed preferences of choice. – Hawkinslab</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-3ad029f862f29a7f91a9a965e0607847.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../assets/images/logo_tech.png" alt="TECH Group" class="navbar-logo light-content">
    <img src="../../assets/images/logo_tech.png" alt="TECH Group" class="navbar-logo dark-content">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../team/index.html"> 
<span class="menu-text">Team</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../publications/index.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-teaching" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Teaching</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-teaching">    
        <li>
    <a class="dropdown-item" href="../../teaching/CIVE461/index.html">
 <span class="dropdown-text">CIVE461/861</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../teaching/ENCI707/index.html">
 <span class="dropdown-text">ENCI707</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../teaching/Guest Lectures/CIVE990T.html">
 <span class="dropdown-text">CIVE990T</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-thoughts" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Thoughts</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-thoughts">    
        <li>
    <a class="dropdown-item" href="../../thoughts/books.html">
 <span class="dropdown-text">Books</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../thoughts/blog.html">
 <span class="dropdown-text">Blog</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#context" id="toc-context" class="nav-link active" data-scroll-target="#context">Context</a></li>
  <li><a href="#axiomatic-utility-theory" id="toc-axiomatic-utility-theory" class="nav-link" data-scroll-target="#axiomatic-utility-theory">Axiomatic Utility Theory</a></li>
  <li><a href="#revealed-preferences" id="toc-revealed-preferences" class="nav-link" data-scroll-target="#revealed-preferences">Revealed Preferences</a></li>
  <li><a href="#stated-preferences" id="toc-stated-preferences" class="nav-link" data-scroll-target="#stated-preferences">Stated Preferences</a></li>
  <li><a href="#why-we-need-both-rp-and-sp" id="toc-why-we-need-both-rp-and-sp" class="nav-link" data-scroll-target="#why-we-need-both-rp-and-sp">Why We need Both RP and SP</a></li>
  <li><a href="#location-and-mode-choice-as-examples" id="toc-location-and-mode-choice-as-examples" class="nav-link" data-scroll-target="#location-and-mode-choice-as-examples">Location and Mode Choice as Examples</a>
  <ul class="collapse">
  <li><a href="#constraints-on-choice" id="toc-constraints-on-choice" class="nav-link" data-scroll-target="#constraints-on-choice">Constraints on Choice</a></li>
  <li><a href="#varying-choice-sets" id="toc-varying-choice-sets" class="nav-link" data-scroll-target="#varying-choice-sets">Varying Choice Sets</a></li>
  <li><a href="#reorienting-preference-studies" id="toc-reorienting-preference-studies" class="nav-link" data-scroll-target="#reorienting-preference-studies">Reorienting Preference Studies</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Stating the revealed preferences of choice.</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Economics</div>
    <div class="quarto-category">Surveys</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jason Hawkins </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 7, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="context" class="level1">
<h1>Context</h1>
<ul>
<li>Ontology concerns what exists and the nature of reality. If you are saying that revealed preference theory is flawed because it assumes a world in which individuals are free, unconstrained agents (when in reality, structural forces like inequality, institutions, or power relations exist and shape choices), then you are making an ontological critique. The issue is about the mismatch between the assumed reality (free choice) and the actual reality (constrained choice).</li>
<li>Epistemology concerns how we know things and the methods/validity of knowledge. If you are saying that revealed preference theory fails because it uses observed choices as a way of knowing preferences, and that this method is misleading since choices don’t fully reveal preferences under constraints, then the critique is epistemological. The problem is with the way knowledge is constructed and justified, not with the underlying reality itself.</li>
<li>If we start from different epistemologies, we will get different results – Harvey 1969 and Gregory 1978</li>
</ul>
</section>
<section id="axiomatic-utility-theory" class="level1">
<h1>Axiomatic Utility Theory</h1>
<p>The deductive approach requires an <em>a prior</em> utility specification, from which predictions about behaviour are made. Axiomatic models have been developed for a wide variety of situations based on the following general form</p>
<p><span class="math display">\[U(X,Z)\]</span> where <span class="math inline">\(X\)</span> is a vector of alternative attributes and <span class="math inline">\(Z\)</span> is a vector of individual attributes (with alternative-specific parameters for identification).</p>
<ul>
<li>Lancaster and very early works</li>
<li></li>
<li>Man is rational and materalistic – Heilbrauer and Thurow (1975)</li>
<li>Adam Smith “harmonious egotists”</li>
<li>Microeconomics founded in logical positivism – Wittgenestin, carnap, Russell then earlier work of Bacon, Berkeley, and Compte o Make predictions based on empirical observation</li>
<li>Behavioural theory – also logical positivist but founded in psychology dating to John B. Watson and Pavlov Skinner o Simon (1957) and ‘satisficer man’</li>
</ul>
</section>
<section id="revealed-preferences" class="level1">
<h1>Revealed Preferences</h1>
<p>Samuelson 1938 (a) the assumption of linearity of marginal utility; (b) the assumption of independence of utilities; (c) the assumption of the measurability of utility in a cardinal sense; and (d) even the assumption of an integrable field of preference elements.. utility as a. psychological concept robbed it of its only possible virtue as an explanation -of human behaviour in other than a circular sense. meaning of the marginal rate of substitution as entity independent of any psychological, introspective implications would be, to say the least, ambiguous, and would seem an artificial convention in the explanation price behaviour. All that follows shall relate to an idealised individual- not necessarily, however, the rational homo-economicus</p>
<p>Assume the following single-valued indirect utility function (omitting one equation for identification of <span class="math inline">\(n\)</span> dependent variables) <span class="math display">\[\psi_i = h^i(p_1,\hdots,p_n,I) \forall i \in [2,\hdots,n]\]</span> subject to the constraint <span class="math display">\[\sum_{i=1}^n \psi_i p_i - I = 0\]</span></p>
<p>If this cost is less than or equal to the actual expenditure in the first period when the first batch of goods was actually bought, then it means that the individual could have purchased the second batch of goods with the price and income of the first situation, but did not choose to do so. Symbolically expressed as <span class="math display">\[[\psi'p] \leq [\psi p]\]</span></p>
<p>in case of denail of this restriction would render invalid all of the former analysis of consumer’s behaviour and the theory of index numbers as shown later - “Logic is sound but are the underlying assumptions correct?” Total cost is equal but prefer psi to psi’ at the same price</p>
<p><span class="math display">\[[\psi'p'] &lt; [\psi p']\]</span> You will still prefer psi if the price levels change on both bundles</p>
<p>Woe to any who deny any one of the three postulates here! For they are, of course, deducible as theorems from the conventional analysis.</p>
<p>taken as data by economic science, and is more meaningful in its formulation - “As far as data is representative of a particular system of exchanges and that there is no effect outside the direct effect of individual actions”</p>
<p>Samuelson 1948 they are all ” revealed” to be inferior to A. - “Assumes a) all options are available and b) inferiority is measured at a particular income level (discrete choice and/or minimum levels mean some options superior but baseline price is outside feasible set - expensive car, etc.)” “SP about removing the structural technical and income barriers and examining the inherent properties of the good - then can backtrack to technology and income/price to examine how a change could be manifest through efficiency and/or policy.”</p>
<p>we know that this first crude approximation Z’: (x, y) = (I5, I5) clearly revealed itself to be “worse” than (x, y) = (IO,30) -since the former was actually chosen over the latter even though both cost the same amount. This suggests that the Cauchy-Lipschitz process will always approach the true solution curve, or ” indifference curve “, from below</p>
<p>We may follow Mr.&nbsp;Little’s terminology and give the name ” behaviour line ” to the unique curve which lies between the points definitely shown to be better than A, and those definitely shown to be worse than A. This happens to coincide with the mathematical solution to the differential equation, and we may care to give this contour line, by courtesy, the title of an indifference curve.1</p>
<p>points revealed to be superior. The points lying literally on a (concave) frontier locus can never themselves be revealed to be better or worse than A. If we wish, then, we may speak of them as being indifferent to A.</p>
<p>2 The above remarks apply without qualification to two dimensional problems where the problem of ” integrability ” cannot appear. In the multidimensional case there still remain some problems, awaiting a solution for more than a decade now.</p>
<p>Edwards 1955 Many social scientists other than psychologists try to account for the behavior of individuals. Economists and a few psychologists have pro duced a large body of theory and a few experiments that deal with indi vidual decision making. The kind of decision making with which this body of theory deals is as follows: given two states, A and B, into either one of which an individual may put himself, the individual chooses A in prefer ence to B (or vice versa). For in stance, a child standing in front of a candy counter may be considering two states. In state A the child has $0.25 and no candy. In state B the child has $0.15 and a ten-cent candy bar. The economic theory of decision making is a theory about how to pre dict such decisions…. economic theorists have studied this problem since the days of Jeremy Bentham (1748- 1832)</p>
<p>with the theory of decision making is essentially an armchair method. They make assumptions, and from these assumptions they de duce theorems which presumably can be tested, though it sometimes seems unlikely that the testing will ever occur.</p>
<ol type="a">
<li>He is com pletely informed. (6) He is infinitely sensitive, (c) He is rational… Rationality. The crucial fact about economic man is that he is rational. This means two things: He can weakly order the states into which he can get, and he makes his choices so as to maximize something.- “I don’t necessarily need teo get into the rationality debate, per se”</li>
</ol>
<p>If preference is operationally defined as choice, then it seems unthinkable that this requirement can ever be empirically violated…A to C. Similarly, if he is indifferent between A and B and between B and C, then he is in different between A and C. It is not obvious that transitivity will always hold for human choices, and experi ments designed to find out whether or not it does will be described in the section on testing transitivity…making moral judgments when they recommend economic policies (e.g., 152, 153). Others still long for the impersonal amorality of a utility measure (e.g., 154)….transitivity of choices. Pap andreou performed an elaborate and splendidly controlled experiment (145) designed to discover whether or not intransitivities occurred in im agined- choice situations. He pre pared triplets of hypothetical…the elements of a triad of objects, but are required to choose between them in pairs and do so by chance, then they will choose in transitively one-fourth…May (138), using different kinds of stimuli in a less elaborate experiment, comes up with results less consistent with transitivity. intransitive triads of choices. May suggests, very plausi bly, that intransitive choices may be expected to occur whenever more than one dimension exists in the stimuli along which subjects may order their preferences - “Can talk about certainty to uncertainty and axiom argument I discuss on blog”</p>
</section>
<section id="stated-preferences" class="level1">
<h1>Stated Preferences</h1>
<ul>
<li>Manski work preferences and expectations. However, economists have deeply skeptical of subjective statements; they often assert that one should lieve only what people do, not what they say. conclusion that all data on expectations are suspect.6 Other social scientists have not shared economists’ inhibitions about collec- tion of expectations data. Section 4.1 critiques the verbal expectations ques- tions posed in attitudinal research</li>
</ul>
<p>Manski 1990 The derived bounds are nonparametrically estimable and may be used to test the best-case hypothesis. Contrary to assertions in the literature, there is no reason to think that individual-level differences between intentions and behavior should “average out” in the aggregate.</p>
<p>Ecomometrica, Manski (2004), Measuring expectations, The form of revealed preference analysis introduced by Samuelson (1938, 1948) supposes that a researcher observes the consumption bundles that a single person chooses when facing different budget sets with varying relative prices. Samuelson showed that observation of multiple (consumption, price, income) realizations, when combined with basic assumptions of consumer the- ory, implies restrictions on the consumption bundles that this person would choose when facing other budget sets. This idea, while beautifully simple, is more a thought experiment than a practical proposal; empirical researchers rarely observe the person-specific data that Samuelson envisioned.2 Research in axiomatic decision theory similarly rests on a thought experiment in which one can observe the decisions that one person would make when facing many alternative choice sets (e.g., Savage (1954</p>
<p>2004 Manski since the early 1990s, economists have untaken to elicit from survey respondents probabilistic expectations of significant personal</p>
<p>RP introduced by Samuelson (1938, 1948) supposes that a researcher observes the consumption bundles that a single person chooses when facing different budget sets with varying relative price. Samuelson showed that observation of multiple consumption, price, and income realizations when combined with absic assumptions of consumer theory, implies restrictions on the consumption bundle that this person would choose when facing other budget sets. This idea, while beautifully simple, is more a thought experiment than a practical proposal; empirical researchers rarely observe the person-specific data that Samuelson envisioned. 2Economists applying Samuelson’s idea usually have used data for multiple persons and have assumed that their preferences are homogeneous in some respects. Blundell (2003) reviews the literature and explores the extent to which heterogeneity in preferences can be accommodated. The more practical form of revealed preference analysis developed by McFadden (1974) supposes that a researcher observes the decisions random sample of heterogeneous persons, each of whom faces one discrete choice problem. McFadden showed that these data, combined with assumptions on the population distribution of preferences, enable estiation of probalistic choice models. term revealed preference analysis to describe econometric of choice data has become imprecise. The meaning of the term is clear when decision makers know the outcome of alternative actions. However, most empirical research today concerns choice problems in which decision makers act with partial information. rmation. Economists commonly assume that form probabilistic expectations for unknown quantities and maximize utility. Hence, the research problem is to infer the subjective probability butions that express expectations and the utility functions that embody ences. The difficulty is that observed choice behavior may be consistent with alternative specifications of preferences and expectations. Hence, identifica- tion of decision processes from choice data must rest on strong maintained assumptions. assumptions. The prevailing practice has been to assume that decision have specific expectations that are objectively correct (i.e., rational). This tice reduces the task of empirical inference to revelation of preferences but has contributed to a crisis of credibility. Researchers performing metric analysis of choice data often have enormous difficulty defending expectations assumptions they maintain and, as a consequence, have difficulty justifying the findings they report. Manski concludes that econometric analysis of decision making with on making with information cannot prosper on choice. Additional data have in mind are self-reports of expectations elicited in the form called for by modern economic theory. …decision problems to how alternative combinations of preferences and expectations can produce same choice.</p>
<ul>
<li>Hensher work</li>
</ul>
</section>
<section id="why-we-need-both-rp-and-sp" class="level1">
<h1>Why We need Both RP and SP</h1>
<p>“theory is to wish a plague on both their houses and to argue that we simply get on with empirical work, in the belief that the facts will dictate which approach is more appropriate. No matter how appealing and pragmatic this might sound, however, it is not possible to separate theory and reality in this way. Indeed, the debate about the relationship between empirical observations and theoretical claims is yet another example of the same kind of dialectical dispute. Theory and observation cannot be separated from one another, and the ontological priority of the one or the other is an interminable dispute in philosophy that parallels in many ways those in economic geography outlined above.” - Sheppard 1990, The Capitalist Space Economy - Measure different aspects of choice and preference - Dialectical Materialism – Positivist based on existing reality at fixed point in time (or over a fixed period) and Aristotelian logic: hypothesis either true or false and stays that way – positivist science works because it empirically tests hypotheses on current system, therefore accurately describes current system - Consumer sovereignty and Gintis (1972) people emphasize consumption because they have control over it -<br>
- Google search example</p>
</section>
<section id="location-and-mode-choice-as-examples" class="level1">
<h1>Location and Mode Choice as Examples</h1>
<ul>
<li>Interrelated decisions constrained by choice set, costs, and other structural factors</li>
<li>Location influences available modes in aggregate and vice versa</li>
<li>Mode choice has historical roots and economic factors - available options</li>
<li>Location choice has historical roots</li>
</ul>
<section id="constraints-on-choice" class="level2">
<h2 class="anchored" data-anchor-id="constraints-on-choice">Constraints on Choice</h2>
</section>
<section id="varying-choice-sets" class="level2">
<h2 class="anchored" data-anchor-id="varying-choice-sets">Varying Choice Sets</h2>
</section>
<section id="reorienting-preference-studies" class="level2">
<h2 class="anchored" data-anchor-id="reorienting-preference-studies">Reorienting Preference Studies</h2>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/hawkins-tech-lab\.github\.io\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Developed by Hawkinslab</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/UNL-Hawkins-Lab/Hawkinslab">
      <i class="bi bi-github" role="img" aria-label="Quarto GitHub">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>