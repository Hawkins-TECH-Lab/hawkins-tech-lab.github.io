{"title":"Lecture 6 - Mode & Destination Choice Models","markdown":{"yaml":{"title":"Lecture 6 - Mode & Destination Choice Models","subtitle":"CIVE 461/861: Urban Transportation Planning","footer":"[CIVE461 Home](/teaching/CIVE461/)","logo":"../images/logo.png","editor":"visual","format":{"revealjs":{"theme":"simple","transition":"fade","chalkboard":true,"slide-number":true,"multiplex":true,"mermaid-format":"png"}},"execute":{"freeze":"auto"}},"headingText":"Outline","containsRefs":false,"markdown":"\n\n::: columns\n::: {.column width=\"60%\"}\n::: incremental\n1. Utility function variables\n2. Direct & cross-elasticity\n3. Forecasting & aggregation\n4. Limitations\n5. Extension to other choices\n:::\n:::\n::: {.column width=\"40%\"}\n![](../images/lecture6/outline.png){fig-align=\"center\"}\n:::\n:::\n\n## Trip-End Models {.smaller}\n- Trip end mode split (**choice**) models apply before trip distribution & split *trip ends* estimated in trip generation among ends (**destinations**)\n- Basically **mode-specific trip generation models** (e.g., regression or cross-classification)\n- Trip-end mode split is a function of socio-economic variables such as income & auto ownership\n- **Cannot include modal level-of-service attributes** (travel time, cost, etc.) since do not yet have O-D flows\n- Works better for **short-term** & when there is **no modal competition** & traffic congestion â€“ small urban & rural areas where transit is a *social service*\n\n## Trip End Model Example\n\n![](../images/lecture6/trip-end-model.png){fig-align=\"center\"}\n\n## Trip Interchange Model {.smaller}\n- Trip interchange mode split (**choice**) models apply after trip distribution & split *trip interchanges* estimated in trip distribution\n- Since O-D flows are known, **can compute travel times, costs, etc.** for competing modes\n- Trip interchange models generally applied in medium to large urban areas where alternative modes are competitive & traffic congestion is a factor\n- Can assess **broad range of policies**:\n  - Improved transit service (e.g., headways, coverage, travel time)\n  - Road pricing, gasoline taxes, etc.\n  - Transit fare policy\n  - Parking supply & cost\n  - HOV policies\n\n## Explanatory Variables in Mode Choice Models {.smaller}\nAlternative Specific Variables\n\n- Travel time\n  - In-vehicle\n  - Out-of-vehicle\n  - Walk (access & egress)\n  - Wait (initial & transfer)\n- Out-of-pocket travel costs\n  - Transit fare or â€œin-vehicleâ€ auto cost\n  - Parking cost\n- Other factors? Reliability, safety, comfort, convenience, etc.\n\n## Explanatory Variables in Mode Choice Models {.smaller}\nTripmaker Specific Variables\n\n- Income\n- Vehicle availability\n- No. of vehicles in household\n- Driverâ€™s license? (0/1)\n- Age\n- Gender\n- Occupation\n- Household composition\n\n## Modeled Alternatives: The Choice Set\nThe number & definition of modeled modes depends on\n\n  - Problem application\n  - Available data\n  - Network modeling capabilities\n- **At a minimum**, requires some representation of competition between auto & transit\n\n## Auto Mode Representation {.smaller}\n- Common to distinguish between drivers & passengers:\n  - **Auto driver mode:** trip-maker drives a vehicle from origin to destination\n  - **Auto passenger mode:** trip-maker is a passenger in  car from origin to destination\n- Alternatively, we can distinguish between drive alone & shared trips\n  - **Drive alone mode:** trip-maker is sole occupant of vehicle from origin to destination (single occupancy vehicle (SOV) trip)\n  - **Shared-ride mode:** trip-maker is one of several vehicle occupants from origin to destination\n    - **Car driver** for shared ride\n    - **Car passenger** for shared ride with household member\n    - **Car pooling:** driver or passenger in vehicle with non-household members\n\n## Transit Mode Representation\n- Possible ways to categorize transit include\n    - **Local** (e.g., StarTran or Metro Transit) vs. **regional** (e.g., OMALiNK or N-E Ride)\n    - **Surface shared right-of-way** (bus, streetcar) vs. **dedicated ROW** (subway, LRT, busway)\n    - **Bus** vs. **rail**\n    - **Regular service** vs. **express** vs. **other premium service**\n\n## Mixed Modes\n- Combined auto-transit modes exist, in which auto is used to access transit system\n  - **Park & Ride:** trip-maker drives to a transit station & parks their vehicle at station\n  - **Kiss & Ride:** trip-maker is driven as a passenger to a transit station & is dropped off there\n- Auto access greatly expands  **catchment area** of transit services\n\n## Other Modes {.smaller}\nThere has been an explosion of modes in the last decade\n\n- Transportation network companies (TNCs): Uber, Lyft\n  - Single ride\n  - Pooled rides & van pools\n- Regular taxis\n- Motorcycles\n- Jitneys\n- Ferries, water taxis\n- Non-motorized modes\n  - Walking\n  - Bicycling\n  - E-bikes\n  - E-Scooters\n\n## Decision Structure\n- Mode choice can be represented as **decision tree**\n- Each node of tree represents an alternative & relationships among choices indicated via hierarchical tree structure (often called **nesting structure**)\n\n![](../images/lecture6/decision-structure.png){.absolute bottom=\"0\" right=\"250\" width=75%}\n\n## Alternative Decision Structures\n![](../images/lecture6/alt-decision-structure.png){fig-align=\"center\"}\n\n## Example: Work Trip Mode Choice Model\nA regional morning peak-period work trip mode choice model is a three-mode logit model as follows\n\nd = auto-drive\n\np = auto passenger\n\nt = transit\n\n## Example: Work Trip Mode Choice Model \n$V_m$ = utility for mode m\n\n$COST_m$ = out-of-pocket travel cost ($) for mode m\n\n$IVTT_m$ = in-vehicle travel time (min.) for mode m\n\n$OVTT_m$ = out-of-vehicle travel time (min.) for mode m\n\nNVEH = avg. no. of vehicles per household in home zone\n\nTWY = 1 if employment zone is located within the catchment area of a transitway station outside the CBD\n           = 0 otherwise\n\nREGION = 1 if home zone is located in a specific area\n                = 0  otherwise\n\n\n## Example: Work Trip Mode Choice Model {.smaller}\nSystematic utility functions\n\n$$ğ‘‰_ğ‘‘=âˆ’0.55âˆ’0.57Ã—ğ¶ğ‘‚ğ‘†ğ‘‡_ğ‘‘âˆ’0.20Ã—ğ¼ğ‘‰ğ‘‡ğ‘‡_ğ‘‘+0.75Ã—ğ‘ğ‘‰ğ¸ğ»$$\n\n$$ğ‘‰_ğ‘=âˆ’2.28âˆ’0.57Ã—ğ¶ğ‘‚ğ‘†ğ‘‡_ğ‘âˆ’0.20Ã—ğ¼ğ‘‰ğ‘‡ğ‘‡_ğ‘âˆ’0.30Ã—ğ‘‚ğ‘‰ğ‘‡ğ‘‡_ğ‘¡\n+0.45Ã—ğ‘ğ‘‰ğ¸ğ»$$\n\n$$ğ‘‰_ğ‘¡=âˆ’0.57Ã—ğ¶ğ‘‚ğ‘†ğ‘‡_ğ‘¡âˆ’0.20Ã—ğ¼ğ‘‰ğ‘‡ğ‘‡_ğ‘¡âˆ’0.30Ã—ğ‘‚ğ‘‰ğ‘‡ğ‘‡_ğ‘¡+1.07Ã—ğ‘‡ğ‘Šğ‘Œ\nâˆ’0.98Ã—ğ‘…ğ¸ğºğ¼ğ‘‚ğ‘$$\n\n## Example: Work Trip Mode Choice Model\n![](../images/lecture6/mode-ex.png){fig-align=\"center\"}\n\n## Important Notes on Mode Choice Example {.smaller}\n- Cost, IVTT, & OVTT are **generic variables**\n  - Enter all utility with same parameter values (no OVTT for driver)\n- NVEH is an **alternative specific variable**\n  - Enters two utility functions with **different parameter values**\n- There are **alternative specific constants** for drive & passenger modes but not transit\n  - If there are M alternatives, we can statically identify M-1 alternative specific constants (ASC)\n  - ASC account for unobserved but non-random variation â€“ ASC will match **market share** for multinomial logit model\n\n## Important Notes on Mode Choice Example {.smaller}\n- Socio-economic variables **do not vary** between alternatives\n  - If included in model, must enter as alternative specific variables\n  - If included in model as generic variables, would add same utility to all alternatives & have no impact on choice probability\n  - Can interact socio-economic variables with level of service (LOS) variables\n    - E.g., travel cost / household income\n\n## Calculating Value of Travel Time (VTT) from Utility Function {.smaller}\n- We can calculate an implied VTT from model coefficients\n- From our previous example\n\n$$âˆ’0.57Ã—ğ¶ğ‘‚ğ‘†ğ‘‡($)=âˆ’0.20Ã—ğ¼ğ‘‰ğ‘‡ğ‘‡(ğ‘šğ‘–ğ‘›)$$\n\n- How many $ would one pay to reduce their travel time by one hour?\n\n$$ğ‘‰ğ‘‡ğ‘‡=ğ›½_{ğ‘¡ğ‘–ğ‘šğ‘’}/ğ›½_{ğ‘ğ‘œğ‘ ğ‘¡} =(âˆ’0.20)/(âˆ’0.57)=$21/â„ğ‘œğ‘¢ğ‘Ÿ$$\n\n- Similarly, VTT for OVTT = $31.6/hour\n- **Question:** How do you think VTT for IVTT compares for **auto** vs. **transit** modes?\n\n## Direct & Cross Elasticity\n- **Direct elasticity:** direct effect of changing a variable value related to a good on demand for the **same good**\n  - E.g., elasticity of transit demand wrt transit fare, transit travel time, or transit headway\n- **Cross elasticity:** effect of changing a variable value related to a good on demand for a **different good**\n - E.g., elasticity of transit demand wrt auto travel time\n\n## Logit -  Direct Elasticity\n- Direct elasticity of the probability of an individual $n$ choosing alternative $i$ wrt a change in an attribute/independent variable $X_{ik}$ with coefficient $\\beta_k$ (ignoring $n$ subscripts for simplicity)\n\n$$e_{direct} = \\frac{\\partial P_i}{\\partial X_{ik}}\\frac{X_{ik}}{P_i} = (1-P_i)X_{ik}\\beta_k$$\n\n## Logit -  Cross Elasticity {.smaller}\n- Cross elasticity of the probability of an individual $n$ choosing alternative $i$ wrt a change in an attribute/independent variable $X_{jk}$ with coefficient $\\beta_k$ for a **different alternative**\n\n$$e_{cross}=-P_j X_{jk} \\beta_k$$\n\n- Above is same regardless of alternative $i$. I.e., **all** modes have the same cross-elasticity wrt an attribute $k$ of mode alternative $j$\n  - Above results from independence of irrelevant alternatives (**IIA**) property of basis logit model\n\n## Forecasting Mode Choice (Model Application) {.smaller}\n- Mode choice models generate choice probability predictions for individuals\n- For planning purposes, we are interested in total number of people in a zone or study area likely to choose each mode\n- Must aggregate individual choices\n  - Total enumeration/microsimulation\n  - Sample enumeration\n  - NaÃ¯ve aggregation\n  - Classify with naÃ¯ve aggregation\n\n## Total Enumeration\n- Simplest method but often not practical\n- Enumerate all individuals in study area\n- Calculate mode choice probabilities\n- Sum probabilities over all individuals\n- **Problem:** extremely expensive to survey all individuals & difficult to simulate them\n- Microsimulation models can be used to simulate individuals\n\n## Sample Enumeration\n- Second best to total enumeration\n- Requires representative sample of population\n- Calculate mode choice probabilities for sample\n- Sample prediction of mode shares can be substituted for population prediction\n- **Problem:** How to synthesize a sample for a future year?\n\n## Naive Aggregation\n- Treat individual choice model as an aggregate model\n- Use zonal averages for variables as inputs to compute â€œaverageâ€ zonal probability\n- Problem: Choice probabilities are non-linear functions of variables so aggregation bias\n- Avoid this method!\n\n## Classification with Naive Aggregation\n- Classify population into relatively homogenous groups\n- E.g., by vehicle ownership & transit availability\n- Determine variable averages for each classification group\n- Use group averages to compute average mode shares\n- Sum mode shares\n- Most common method used in practice\n\n## Classification with NaÃ¯ve Aggregation Example {.smaller}\nA work trip mode split logit model includes the no. of hh. vehicles (NVEH) and whether a worker has a driverâ€™s license (DLIC) as variables. The aggregation/forecasting procedure used is to:\n\n- Divide workers into â€œnâ€ NVEH & DLIC categories\n- Estimate percentage of workers in each category by O-D pair\n- Compute mode choice probabilities for each category\n- Compute weighted average mode splits for each O-D pair\n\n## Aggregation Bias\n- Consider a zone in which people are identical except for their income, and that the probability of a person using transit depends only on the personâ€™s income.\n\n![](../images/lecture6/agg-bias-1.png){fig-align=\"center\"}\n\n## Aggregation Bias\n- Bias becomes worse for more heterogenous populations\n\n![](../images/lecture6/agg-bias-2.png){fig-align=\"center\"}\n\n## Forecasting Example {.smaller}\n$$ğ‘‰_ğ‘=\\beta_1+\\beta_2 ğ¼ğ‘‰ğ‘‡ğ‘‡_a+\\beta_4 ğ‘‚ğ‘‰ğ‘‡ğ‘‡_ğ‘+\\beta_5 ((ğ‘‚ğ‘ƒğ‘‡ğ¶_a)/ğ¼ğ‘ğ¶)+\\beta_6 ğ´ğ‘‚$$\n\n$$ğ‘‰_ğ‘¡=\\beta_3 ğ¼ğ‘‰ğ‘‡ğ‘‡_ğ‘¡+\\beta_4 ğ‘‚ğ‘‰ğ‘‡ğ‘‡_ğ‘¡+\\beta_5 ((ğ‘‚ğ‘ƒğ‘‡ğ¶_ğ‘¡)/ğ¼ğ‘ğ¶)$$\n\n- IVTT = in-vehicle travel time\n- OVTT  = out-of-vehicle travel time\n- OPTC = out-of-pocket travel cost\n- INC = household income\n- AO = auto ownership level\n\n![](../images/lecture6/util-func.png){.absolute bottom=\"0\" right=\"250\" width=75%}\n\n## Forecasting Example - Full Enumeration & Naive Aggregation {.smaller}\nIn this example, naive aggregation results in 3% **overprediction** of auto\n\n![](../images/lecture6/tota-enum.png){.absolute bottom=\"50\" left=\"0\" width=50%}\n\n![](../images/lecture6/naive-agg.png){.absolute bottom=\"0\" right=\"0\" width=50%}\n\n## Forecasting Example - Full Enumeration & Classification with Naive Aggregation {.smaller}\nIn this example, classification with naive aggregation results in <1% **overprediction** of auto\n\n![](../images/lecture6/tota-enum.png){.absolute bottom=\"50\" left=\"0\" width=50%}\n\n![](../images/lecture6/class-enum.png){.absolute bottom=\"0\" right=\"0\" width=50%}\n\n## Destination Choice\n- Like mode choice, we can consider the **trip distribution** process using disaggregate choice models\n- **Destination choice models** attempt to represent the decision-process by individuals when deciding where to make a trip\n\n![](../images/lecture6/destination-choice.png){.absolute bottom=\"0\" right=\"0\" width=75%}\n\n## Destination Choice\n- Unfortunately, destination choice is more complex than mode choice due to **choice set explosion**\n- We can address challenge by making use of logit properties to draw a **random sample of alternatives**\n\n![](../images/lecture6/destination-choice-2.png){.absolute bottom=\"0\" right=\"0\" width=75%}\n\n## Joint Mode-Destination Choice\nOften mode-destination choice a **joint process**: choosing to walk will affect destination choice & choosing a close destination will affect mode choice\n\n![](../images/lecture6/mode-dest-choice.png){.absolute bottom=\"50\" right=\"50\" width=80%}\n\n## Other Choices {.smaller}\n- Home location choice (**multinomial logit**) â€“ similar to destination choice\n- Vehicle ownership choice? 1, 2, 3, 4, etc. vehicles (**ordered logit**)\n- Departure time choice? 8AM, 9AM, 10AM, etc. (**ordered logit**)\n- Party size choice? 1, 2, 3, 4, 5, etc. persons (**ordered logit**)\n- Choice set formation\n  - What destinations do I consider? Do I consider only destinations within my neighborhood? Do I consider only destinations within a certain distance or travel time?\n","srcMarkdownNoYaml":"\n\n## Outline\n::: columns\n::: {.column width=\"60%\"}\n::: incremental\n1. Utility function variables\n2. Direct & cross-elasticity\n3. Forecasting & aggregation\n4. Limitations\n5. Extension to other choices\n:::\n:::\n::: {.column width=\"40%\"}\n![](../images/lecture6/outline.png){fig-align=\"center\"}\n:::\n:::\n\n## Trip-End Models {.smaller}\n- Trip end mode split (**choice**) models apply before trip distribution & split *trip ends* estimated in trip generation among ends (**destinations**)\n- Basically **mode-specific trip generation models** (e.g., regression or cross-classification)\n- Trip-end mode split is a function of socio-economic variables such as income & auto ownership\n- **Cannot include modal level-of-service attributes** (travel time, cost, etc.) since do not yet have O-D flows\n- Works better for **short-term** & when there is **no modal competition** & traffic congestion â€“ small urban & rural areas where transit is a *social service*\n\n## Trip End Model Example\n\n![](../images/lecture6/trip-end-model.png){fig-align=\"center\"}\n\n## Trip Interchange Model {.smaller}\n- Trip interchange mode split (**choice**) models apply after trip distribution & split *trip interchanges* estimated in trip distribution\n- Since O-D flows are known, **can compute travel times, costs, etc.** for competing modes\n- Trip interchange models generally applied in medium to large urban areas where alternative modes are competitive & traffic congestion is a factor\n- Can assess **broad range of policies**:\n  - Improved transit service (e.g., headways, coverage, travel time)\n  - Road pricing, gasoline taxes, etc.\n  - Transit fare policy\n  - Parking supply & cost\n  - HOV policies\n\n## Explanatory Variables in Mode Choice Models {.smaller}\nAlternative Specific Variables\n\n- Travel time\n  - In-vehicle\n  - Out-of-vehicle\n  - Walk (access & egress)\n  - Wait (initial & transfer)\n- Out-of-pocket travel costs\n  - Transit fare or â€œin-vehicleâ€ auto cost\n  - Parking cost\n- Other factors? Reliability, safety, comfort, convenience, etc.\n\n## Explanatory Variables in Mode Choice Models {.smaller}\nTripmaker Specific Variables\n\n- Income\n- Vehicle availability\n- No. of vehicles in household\n- Driverâ€™s license? (0/1)\n- Age\n- Gender\n- Occupation\n- Household composition\n\n## Modeled Alternatives: The Choice Set\nThe number & definition of modeled modes depends on\n\n  - Problem application\n  - Available data\n  - Network modeling capabilities\n- **At a minimum**, requires some representation of competition between auto & transit\n\n## Auto Mode Representation {.smaller}\n- Common to distinguish between drivers & passengers:\n  - **Auto driver mode:** trip-maker drives a vehicle from origin to destination\n  - **Auto passenger mode:** trip-maker is a passenger in  car from origin to destination\n- Alternatively, we can distinguish between drive alone & shared trips\n  - **Drive alone mode:** trip-maker is sole occupant of vehicle from origin to destination (single occupancy vehicle (SOV) trip)\n  - **Shared-ride mode:** trip-maker is one of several vehicle occupants from origin to destination\n    - **Car driver** for shared ride\n    - **Car passenger** for shared ride with household member\n    - **Car pooling:** driver or passenger in vehicle with non-household members\n\n## Transit Mode Representation\n- Possible ways to categorize transit include\n    - **Local** (e.g., StarTran or Metro Transit) vs. **regional** (e.g., OMALiNK or N-E Ride)\n    - **Surface shared right-of-way** (bus, streetcar) vs. **dedicated ROW** (subway, LRT, busway)\n    - **Bus** vs. **rail**\n    - **Regular service** vs. **express** vs. **other premium service**\n\n## Mixed Modes\n- Combined auto-transit modes exist, in which auto is used to access transit system\n  - **Park & Ride:** trip-maker drives to a transit station & parks their vehicle at station\n  - **Kiss & Ride:** trip-maker is driven as a passenger to a transit station & is dropped off there\n- Auto access greatly expands  **catchment area** of transit services\n\n## Other Modes {.smaller}\nThere has been an explosion of modes in the last decade\n\n- Transportation network companies (TNCs): Uber, Lyft\n  - Single ride\n  - Pooled rides & van pools\n- Regular taxis\n- Motorcycles\n- Jitneys\n- Ferries, water taxis\n- Non-motorized modes\n  - Walking\n  - Bicycling\n  - E-bikes\n  - E-Scooters\n\n## Decision Structure\n- Mode choice can be represented as **decision tree**\n- Each node of tree represents an alternative & relationships among choices indicated via hierarchical tree structure (often called **nesting structure**)\n\n![](../images/lecture6/decision-structure.png){.absolute bottom=\"0\" right=\"250\" width=75%}\n\n## Alternative Decision Structures\n![](../images/lecture6/alt-decision-structure.png){fig-align=\"center\"}\n\n## Example: Work Trip Mode Choice Model\nA regional morning peak-period work trip mode choice model is a three-mode logit model as follows\n\nd = auto-drive\n\np = auto passenger\n\nt = transit\n\n## Example: Work Trip Mode Choice Model \n$V_m$ = utility for mode m\n\n$COST_m$ = out-of-pocket travel cost ($) for mode m\n\n$IVTT_m$ = in-vehicle travel time (min.) for mode m\n\n$OVTT_m$ = out-of-vehicle travel time (min.) for mode m\n\nNVEH = avg. no. of vehicles per household in home zone\n\nTWY = 1 if employment zone is located within the catchment area of a transitway station outside the CBD\n           = 0 otherwise\n\nREGION = 1 if home zone is located in a specific area\n                = 0  otherwise\n\n\n## Example: Work Trip Mode Choice Model {.smaller}\nSystematic utility functions\n\n$$ğ‘‰_ğ‘‘=âˆ’0.55âˆ’0.57Ã—ğ¶ğ‘‚ğ‘†ğ‘‡_ğ‘‘âˆ’0.20Ã—ğ¼ğ‘‰ğ‘‡ğ‘‡_ğ‘‘+0.75Ã—ğ‘ğ‘‰ğ¸ğ»$$\n\n$$ğ‘‰_ğ‘=âˆ’2.28âˆ’0.57Ã—ğ¶ğ‘‚ğ‘†ğ‘‡_ğ‘âˆ’0.20Ã—ğ¼ğ‘‰ğ‘‡ğ‘‡_ğ‘âˆ’0.30Ã—ğ‘‚ğ‘‰ğ‘‡ğ‘‡_ğ‘¡\n+0.45Ã—ğ‘ğ‘‰ğ¸ğ»$$\n\n$$ğ‘‰_ğ‘¡=âˆ’0.57Ã—ğ¶ğ‘‚ğ‘†ğ‘‡_ğ‘¡âˆ’0.20Ã—ğ¼ğ‘‰ğ‘‡ğ‘‡_ğ‘¡âˆ’0.30Ã—ğ‘‚ğ‘‰ğ‘‡ğ‘‡_ğ‘¡+1.07Ã—ğ‘‡ğ‘Šğ‘Œ\nâˆ’0.98Ã—ğ‘…ğ¸ğºğ¼ğ‘‚ğ‘$$\n\n## Example: Work Trip Mode Choice Model\n![](../images/lecture6/mode-ex.png){fig-align=\"center\"}\n\n## Important Notes on Mode Choice Example {.smaller}\n- Cost, IVTT, & OVTT are **generic variables**\n  - Enter all utility with same parameter values (no OVTT for driver)\n- NVEH is an **alternative specific variable**\n  - Enters two utility functions with **different parameter values**\n- There are **alternative specific constants** for drive & passenger modes but not transit\n  - If there are M alternatives, we can statically identify M-1 alternative specific constants (ASC)\n  - ASC account for unobserved but non-random variation â€“ ASC will match **market share** for multinomial logit model\n\n## Important Notes on Mode Choice Example {.smaller}\n- Socio-economic variables **do not vary** between alternatives\n  - If included in model, must enter as alternative specific variables\n  - If included in model as generic variables, would add same utility to all alternatives & have no impact on choice probability\n  - Can interact socio-economic variables with level of service (LOS) variables\n    - E.g., travel cost / household income\n\n## Calculating Value of Travel Time (VTT) from Utility Function {.smaller}\n- We can calculate an implied VTT from model coefficients\n- From our previous example\n\n$$âˆ’0.57Ã—ğ¶ğ‘‚ğ‘†ğ‘‡($)=âˆ’0.20Ã—ğ¼ğ‘‰ğ‘‡ğ‘‡(ğ‘šğ‘–ğ‘›)$$\n\n- How many $ would one pay to reduce their travel time by one hour?\n\n$$ğ‘‰ğ‘‡ğ‘‡=ğ›½_{ğ‘¡ğ‘–ğ‘šğ‘’}/ğ›½_{ğ‘ğ‘œğ‘ ğ‘¡} =(âˆ’0.20)/(âˆ’0.57)=$21/â„ğ‘œğ‘¢ğ‘Ÿ$$\n\n- Similarly, VTT for OVTT = $31.6/hour\n- **Question:** How do you think VTT for IVTT compares for **auto** vs. **transit** modes?\n\n## Direct & Cross Elasticity\n- **Direct elasticity:** direct effect of changing a variable value related to a good on demand for the **same good**\n  - E.g., elasticity of transit demand wrt transit fare, transit travel time, or transit headway\n- **Cross elasticity:** effect of changing a variable value related to a good on demand for a **different good**\n - E.g., elasticity of transit demand wrt auto travel time\n\n## Logit -  Direct Elasticity\n- Direct elasticity of the probability of an individual $n$ choosing alternative $i$ wrt a change in an attribute/independent variable $X_{ik}$ with coefficient $\\beta_k$ (ignoring $n$ subscripts for simplicity)\n\n$$e_{direct} = \\frac{\\partial P_i}{\\partial X_{ik}}\\frac{X_{ik}}{P_i} = (1-P_i)X_{ik}\\beta_k$$\n\n## Logit -  Cross Elasticity {.smaller}\n- Cross elasticity of the probability of an individual $n$ choosing alternative $i$ wrt a change in an attribute/independent variable $X_{jk}$ with coefficient $\\beta_k$ for a **different alternative**\n\n$$e_{cross}=-P_j X_{jk} \\beta_k$$\n\n- Above is same regardless of alternative $i$. I.e., **all** modes have the same cross-elasticity wrt an attribute $k$ of mode alternative $j$\n  - Above results from independence of irrelevant alternatives (**IIA**) property of basis logit model\n\n## Forecasting Mode Choice (Model Application) {.smaller}\n- Mode choice models generate choice probability predictions for individuals\n- For planning purposes, we are interested in total number of people in a zone or study area likely to choose each mode\n- Must aggregate individual choices\n  - Total enumeration/microsimulation\n  - Sample enumeration\n  - NaÃ¯ve aggregation\n  - Classify with naÃ¯ve aggregation\n\n## Total Enumeration\n- Simplest method but often not practical\n- Enumerate all individuals in study area\n- Calculate mode choice probabilities\n- Sum probabilities over all individuals\n- **Problem:** extremely expensive to survey all individuals & difficult to simulate them\n- Microsimulation models can be used to simulate individuals\n\n## Sample Enumeration\n- Second best to total enumeration\n- Requires representative sample of population\n- Calculate mode choice probabilities for sample\n- Sample prediction of mode shares can be substituted for population prediction\n- **Problem:** How to synthesize a sample for a future year?\n\n## Naive Aggregation\n- Treat individual choice model as an aggregate model\n- Use zonal averages for variables as inputs to compute â€œaverageâ€ zonal probability\n- Problem: Choice probabilities are non-linear functions of variables so aggregation bias\n- Avoid this method!\n\n## Classification with Naive Aggregation\n- Classify population into relatively homogenous groups\n- E.g., by vehicle ownership & transit availability\n- Determine variable averages for each classification group\n- Use group averages to compute average mode shares\n- Sum mode shares\n- Most common method used in practice\n\n## Classification with NaÃ¯ve Aggregation Example {.smaller}\nA work trip mode split logit model includes the no. of hh. vehicles (NVEH) and whether a worker has a driverâ€™s license (DLIC) as variables. The aggregation/forecasting procedure used is to:\n\n- Divide workers into â€œnâ€ NVEH & DLIC categories\n- Estimate percentage of workers in each category by O-D pair\n- Compute mode choice probabilities for each category\n- Compute weighted average mode splits for each O-D pair\n\n## Aggregation Bias\n- Consider a zone in which people are identical except for their income, and that the probability of a person using transit depends only on the personâ€™s income.\n\n![](../images/lecture6/agg-bias-1.png){fig-align=\"center\"}\n\n## Aggregation Bias\n- Bias becomes worse for more heterogenous populations\n\n![](../images/lecture6/agg-bias-2.png){fig-align=\"center\"}\n\n## Forecasting Example {.smaller}\n$$ğ‘‰_ğ‘=\\beta_1+\\beta_2 ğ¼ğ‘‰ğ‘‡ğ‘‡_a+\\beta_4 ğ‘‚ğ‘‰ğ‘‡ğ‘‡_ğ‘+\\beta_5 ((ğ‘‚ğ‘ƒğ‘‡ğ¶_a)/ğ¼ğ‘ğ¶)+\\beta_6 ğ´ğ‘‚$$\n\n$$ğ‘‰_ğ‘¡=\\beta_3 ğ¼ğ‘‰ğ‘‡ğ‘‡_ğ‘¡+\\beta_4 ğ‘‚ğ‘‰ğ‘‡ğ‘‡_ğ‘¡+\\beta_5 ((ğ‘‚ğ‘ƒğ‘‡ğ¶_ğ‘¡)/ğ¼ğ‘ğ¶)$$\n\n- IVTT = in-vehicle travel time\n- OVTT  = out-of-vehicle travel time\n- OPTC = out-of-pocket travel cost\n- INC = household income\n- AO = auto ownership level\n\n![](../images/lecture6/util-func.png){.absolute bottom=\"0\" right=\"250\" width=75%}\n\n## Forecasting Example - Full Enumeration & Naive Aggregation {.smaller}\nIn this example, naive aggregation results in 3% **overprediction** of auto\n\n![](../images/lecture6/tota-enum.png){.absolute bottom=\"50\" left=\"0\" width=50%}\n\n![](../images/lecture6/naive-agg.png){.absolute bottom=\"0\" right=\"0\" width=50%}\n\n## Forecasting Example - Full Enumeration & Classification with Naive Aggregation {.smaller}\nIn this example, classification with naive aggregation results in <1% **overprediction** of auto\n\n![](../images/lecture6/tota-enum.png){.absolute bottom=\"50\" left=\"0\" width=50%}\n\n![](../images/lecture6/class-enum.png){.absolute bottom=\"0\" right=\"0\" width=50%}\n\n## Destination Choice\n- Like mode choice, we can consider the **trip distribution** process using disaggregate choice models\n- **Destination choice models** attempt to represent the decision-process by individuals when deciding where to make a trip\n\n![](../images/lecture6/destination-choice.png){.absolute bottom=\"0\" right=\"0\" width=75%}\n\n## Destination Choice\n- Unfortunately, destination choice is more complex than mode choice due to **choice set explosion**\n- We can address challenge by making use of logit properties to draw a **random sample of alternatives**\n\n![](../images/lecture6/destination-choice-2.png){.absolute bottom=\"0\" right=\"0\" width=75%}\n\n## Joint Mode-Destination Choice\nOften mode-destination choice a **joint process**: choosing to walk will affect destination choice & choosing a close destination will affect mode choice\n\n![](../images/lecture6/mode-dest-choice.png){.absolute bottom=\"50\" right=\"50\" width=80%}\n\n## Other Choices {.smaller}\n- Home location choice (**multinomial logit**) â€“ similar to destination choice\n- Vehicle ownership choice? 1, 2, 3, 4, etc. vehicles (**ordered logit**)\n- Departure time choice? 8AM, 9AM, 10AM, etc. (**ordered logit**)\n- Party size choice? 1, 2, 3, 4, 5, etc. persons (**ordered logit**)\n- Choice set formation\n  - What destinations do I consider? Do I consider only destinations within my neighborhood? Do I consider only destinations within a certain distance or travel time?\n"},"formats":{"revealjs":{"identifier":{"display-name":"RevealJS","target-format":"revealjs","base-format":"revealjs"},"execute":{"fig-width":10,"fig-height":5,"fig-format":"retina","fig-dpi":96,"mermaid-format":"png","df-print":"default","error":false,"eval":true,"cache":null,"freeze":"auto","echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","html-math-method":{"method":"mathjax","url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML-full"},"slide-level":2,"to":"revealjs","output-file":"lec-6.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":false,"quarto-version":"1.5.56","auto-stretch":true,"editor":"visual","title":"Lecture 6 - Mode & Destination Choice Models","subtitle":"CIVE 461/861: Urban Transportation Planning","footer":"[CIVE461 Home](/teaching/CIVE461/)","logo":"../images/logo.png","theme":"simple","transition":"fade","chalkboard":true,"slideNumber":true,"multiplex":true}}},"projectFormats":["html"]}